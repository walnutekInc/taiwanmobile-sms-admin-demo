import{_ as $}from"./index-8mjf59gM.js";import{d as _,f as v,W as s,X as l,F as w,Y as u,a9 as c,u as g,a6 as m,a4 as d,m as N,A as z,k as h,_ as x,$ as P,ab as b,ah as B,ai as V,y as A,a7 as F}from"./vue-BtcszhJV.js";import{g as S}from"./tools-DInPKiE1.js";import{K as R}from"./antd-CeareF1k.js";const D={class:"relative w-full h-full"},E=["controls","src"],M={key:0,class:"text-sms-grayscale-60 font-500 text-base text-center pt-2"},L={key:0,class:"text-sms-grayscale-60 font-500 text-base text-center pb-2"},j=["src"],G=_({name:"MultimediaPreview",__name:"index",props:{source:{},showDelBtn:{type:Boolean,default:!0},showFileName:{type:Boolean,default:!0},canPlay:{type:Boolean,default:!0},imageClass:{default:"w-full"},size:{default:"large"}},emits:["deleteVideo"],setup(n,{expose:r,emit:a}){const o=n,e=a,i=v(!1),p=v();function f(t){i.value=!t.target.paused}function y(){var t;console.log(o.canPlay&&o.source.type==="video",o.source.type),o.canPlay&&o.source.type==="video"&&((t=p.value)==null||t.play())}function T(){var t;o.canPlay&&i.value&&o.source.type==="video"&&((t=p.value)==null||t.pause())}function C(){e("deleteVideo")}return r({playVideo:y,pauseVideo:T}),(t,q)=>{const k=$;return s(),l("div",D,[t.source.type==="video"?(s(),l(w,{key:0},[u("video",{id:"video",ref_key:"videoRef",ref:p,class:c(["h-full w-full bg-sms-grayscale-100",{"max-h-356px":t.size==="large"}]),controls:g(i),src:t.source.url,onPlaying:f,onPause:f},null,42,E),t.showFileName?(s(),l("div",M,m(t.source.fileName)+" ("+m(t.source.fileSize)+") ",1)):d("",!0),N(h(k,{name:"play-circle",width:t.size==="large"?"80px":"35px",class:"absolute top-50% left-50% translate-x-[-50%] translate-y-[-50%] cursor-pointer",onClick:y},null,8,["width"]),[[z,!g(i)]])],64)):t.source.url?(s(),l(w,{key:1},[t.showFileName?(s(),l("div",L,m(t.source.fileName)+" ("+m(t.source.fileSize)+") ",1)):d("",!0),u("img",{src:t.source.url,class:c(t.imageClass)},null,10,j)],64)):d("",!0),t.showDelBtn?(s(),x(k,{key:2,name:"close-circle",width:t.size==="large"?"32px":"16px",status:"small3",class:"absolute top-1 right-1 text-sms-grayscale-60 cursor-pointer",onClick:C},null,8,["width"])):d("",!0)])}}}),H=_({name:"MultimediaPreviewTooltip",inheritAttrs:!1,__name:"multmedia-preview-toolip",props:{source:{},showDelBtn:{type:Boolean},showFileName:{type:Boolean},canPlay:{type:Boolean},imageClass:{},size:{},tooltip:{type:Boolean,default:!1},tooltipPlacement:{default:"top"},toopltipArrow:{type:Boolean,default:!0}},setup(n){const r=n,a=v();async function o(e){await A(),a.value&&(e?a.value.playVideo():a.value.pauseVideo())}return(e,i)=>{const p=G,f=R;return e.tooltip?(s(),x(f,{key:0,placement:e.tooltipPlacement,"get-popup-container":g(S),"overlay-inner-style":{width:"384px",height:"304px"},arrow:e.toopltipArrow,onOpenChange:i[0]||(i[0]=y=>o(y))},{title:P(()=>[h(p,b({ref_key:"previewRef",ref:a},{...e.$attrs,...r},{size:"small","show-del-btn":!1,"show-file-name":!1,"image-class":"object-cover w-80% h-full mx-auto block","can-play":!0}),null,16)]),default:P(()=>[h(p,B(V({...e.$attrs,...r})),null,16)]),_:1},8,["placement","get-popup-container","arrow"])):(s(),x(p,B(b({key:1},{...e.$attrs,...r})),null,16))}}}),K="/taiwanmobile-sms-admin-demo/assets/full-phone-rT6RnVLp.png",O=["src"],W={class:"max-h-706px overflow-auto absolute top-[150px] left-[30px] w-[calc(100%-50px)]"},X={class:"text-sms-grayscale-60 text-sm font-400 font-inter text-sm text-right"},Y=["innerHTML"],Z=_({name:"FullPhonePreview",__name:"index",props:{message:{type:Array,default:()=>[]},tooltip:{type:Boolean,default:!1},tooltipPlacement:{type:String,default:"top"},toopltipArrow:{type:Boolean,default:!0}},setup(n){function r(a="",o){return o?`<div class="font-700 text-17px font-sans">${o}</div>${a}`:a}return(a,o)=>(s(),l(w,null,[u("img",{src:g(K),class:"w-428px"},null,8,O),u("div",W,[(s(!0),l(w,null,F(n.message,e=>(s(),l("div",{key:e.key,class:c(["flex flex-col mb-4",{"me-48px ms-5px":e.messageType==="GET","ms-48px me-20px":e.messageType==="SENT"}])},[u("div",X,m(e.phone),1),u("div",{class:c(["flex w-full items-end justify-end gap-4",{"flex-row-reverse ":e.messageType==="GET"}])},[e.contentType==="text"?(s(),l("div",{key:0,class:c(["bg-sms-grayscale-20 w-214px py-3 px-3 rounded-2 text-17px break-words",{"bg-sms-primary-blue-20":e.messageType==="SENT"}]),innerHTML:r(e.content,e.subject)},null,10,Y)):e.content?(s(),l("div",{key:1,class:c({"h-130px w-196px":e.contentType==="video"})},[h(H,{source:{url:e.content,type:e.contentType},"show-file-name":!1,tooltip:n.tooltip,"show-del-btn":!1,"can-play":!1,"image-class":"w-50% block ms-auto","tooltip-placement":n.tooltipPlacement,"toopltip-arrow":n.toopltipArrow},null,8,["source","tooltip","tooltip-placement","toopltip-arrow"])],2)):d("",!0)],2)],2))),128))])],64))}});export{G as _,H as a,Z as b};
