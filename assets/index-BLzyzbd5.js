import{_ as Te}from"./index.vuevuetypescriptsetuptruelang-CEhK6iq-.js";import{_ as Ne}from"./index.vuevuetypestyleindex0lang-BI2YFae2.js";import{j as $e,_ as de}from"./index-BVB7VO-I.js";import{_ as Oe}from"./index-fz41T3Jj.js";import{_ as Re,a as Ie}from"./index.vuevuetypescriptsetuptruelang-C-Xp12f7.js";import{_ as be}from"./index.vuevuetypescriptsetuptruelang-CL8f4-88.js";import{b as ae,a as Ve}from"./index.esm-BLrWqtwX.js";import{n as Z,p as ye,G as ue,J as Ue,x as Le,o as Se,y as ge,I as Pe,Z as Me,Q as ze,E as Ae,q as Ke,F as Ce,$ as je}from"./antd-DnZDPeHZ.js";import{F as Ee}from"./index-Clneflc8.js";import{f as S,d as fe,r as le,c as _e,W as w,_ as ee,$ as n,Y as u,k as e,u as t,ai as Fe,H as he,o as ke,ao as qe,X as K,G as r,F as oe,ab as D,a4 as H,a9 as pe,a3 as Q}from"./vue-BTNAaAVH.js";import{u as we}from"./request-DYjj552_.js";import{b as ie,a as Be}from"./tools-DInPKiE1.js";import"./context-r6D0lOIv.js";import"./index.vuevuetypestyleindex0lang-Cibwl0fk.js";import"./index.vuevuetypescriptsetuptruelang-Kz8z1UAe.js";var me=(T=>(T.sms="SMS",T.mms="MMS",T.trackActivity="追蹤活動管理",T.subAccount="子帳號管理",T.parameterMessage="參數訊息",T.chatMessage="雙向訊息",T.autoReply="自動回覆",T.aiCopywriting="文案生成",T.aiMaterialGeneration="AI素材生成",T))(me||{});const re=[{key:"0",companyAttr:"2",companyAttrName:"內部服務",bizcustomerKey:"1",companyAccount:"VCSL000100",companyName:"台灣大哥大--行動商務處",unifiedNumber:"35878722",companyAddress:"台灣台北市大安區敦化南路1段111號11樓",contactPersonList:[{contactName:"王京京",countryCode:"+886",phone:"988127332",companyNumber:"0294837738",companyExtension:"3315",email:"4423428@gmail.com",billingAddress:"台灣台北市大安區敦化南路1段111號11樓",note:""}],services:["sms","mms","aiCopywriting","subAccount"],createTime:"",updateTime:"",phoneNumberCount:5,mainAccountCount:1,subAccountCount:4,balance:5e5,status:"ACTIVE"},{key:"1",companyAttr:"3",companyAttrName:"ADP 經銷商",bizcustomerKey:void 0,companyAccount:"VCSL000200",companyName:"三竹資訊股份有限公司",unifiedNumber:"35878722",companyAddress:"台灣台北市大安區敦化南路1段111號11樓",contactPersonList:[{contactName:"王京京",countryCode:"+886",phone:"988127332",companyNumber:"0294837738",companyExtension:"3315",email:"4423428@gmail.com",billingAddress:"台灣台北市大安區敦化南路1段111號11樓",note:""}],services:[],createTime:"",updateTime:"",phoneNumberCount:10,mainAccountCount:2,subAccountCount:8,balance:700,status:"ACTIVE"},{key:"2",companyAttr:"1",companyAttrName:"一般公司/單位",bizcustomerKey:void 0,companyAccount:"VCSL000300",companyName:"富邦媒體科技股份有限公司",unifiedNumber:"35878722",companyAddress:"台灣台北市大安區敦化南路1段111號11樓",contactPersonList:[{contactName:"王京京",countryCode:"+886",phone:"988127332",companyNumber:"0294837738",companyExtension:"3315",email:"4423428@gmail.com",billingAddress:"台灣台北市大安區敦化南路1段111號11樓",note:""}],services:["sms","mms","trackActivity","aiCopywriting"],createTime:"",updateTime:"",phoneNumberCount:9,mainAccountCount:3,subAccountCount:6,balance:3e4,status:"UNACTIVE"},{key:"3",companyAttr:"1",companyAttrName:"一般公司/單位",companyAccount:"VCSL000400",companyName:"網路家庭實業股份有限公司",bizcustomerKey:void 0,unifiedNumber:"35878722",companyAddress:"台灣台北市大安區敦化南路1段111號11樓",contactPersonList:[],services:["sms","mms","aiCopywriting"],createTime:"",updateTime:"",phoneNumberCount:14,mainAccountCount:5,subAccountCount:9,balance:39e4,status:"ACTIVE"},{key:"4",companyAttr:"1",companyAttrName:"一般公司/單位",companyAccount:"VCSL000500",companyName:"創業家兄弟股份有限公司",unifiedNumber:"35878722",companyAddress:"台灣台北市大安區敦化南路1段111號11樓",contactPersonList:[{contactName:"王京京",countryCode:"+886",phone:"988127332",companyNumber:"0294837738",companyExtension:"3315",email:"4423428@gmail.com",billingAddress:"台灣台北市大安區敦化南路1段111號11樓",note:""}],services:["sms","mms","aiCopywriting"],createTime:"",updateTime:"",bizcustomerKey:void 0,phoneNumberCount:13,mainAccountCount:8,subAccountCount:5,balance:3e3,status:"ACTIVE"},{key:"5",companyAttr:"1",companyAttrName:"一般公司/單位",companyAccount:"VCSL000600",bizcustomerKey:void 0,companyName:"三商巧福",unifiedNumber:"35878722",companyAddress:"台灣台北市大安區敦化南路1段111號11樓",contactPersonList:[{contactName:"王京京",countryCode:"+886",phone:"988127332",companyNumber:"0294837738",companyExtension:"3315",email:"4423428@gmail.com",billingAddress:"台灣台北市大安區敦化南路1段111號11樓",note:""}],services:["sms","mms","aiCopywriting"],createTime:"",updateTime:"",phoneNumberCount:8,mainAccountCount:2,subAccountCount:6,balance:1e3,status:"UNACTIVE"},{key:"6",companyAttr:"1",companyAttrName:"一般公司/單位",companyAccount:"VCSL000700",bizcustomerKey:void 0,companyName:"全聯福利中心",unifiedNumber:"35878722",companyAddress:"台灣台北市大安區敦化南路1段111號11樓",contactPersonList:[{contactName:"王京京",countryCode:"+886",phone:"988127332",companyNumber:"0294837738",companyExtension:"3315",email:"4423428@gmail.com",billingAddress:"台灣台北市大安區敦化南路1段111號11樓",note:""}],services:["sms","mms","aiCopywriting"],createTime:"",updateTime:"",phoneNumberCount:9,mainAccountCount:3,subAccountCount:6,balance:4e3,status:"UNACTIVE"}],We=[{key:"1",companyName:"台灣資生堂股份有限公司",unifiedNumber:"35878722",companyAccount:"VCSJ001024",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"},{key:"2",companyName:"晶創國際數位有限公司",unifiedNumber:"28011838",companyAccount:"VCSJ001036",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"},{key:"3",companyName:"玫瑰津有限公司",unifiedNumber:"80545948",companyAccount:"VCSJ001040",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"},{key:"4",companyName:"台灣資生堂股份有限公司",unifiedNumber:"35878722",companyAccount:"VCSJ001024",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"},{key:"5",companyName:"晶創國際數位有限公司",unifiedNumber:"28011838",companyAccount:"VCSJ001036",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"},{key:"6",companyName:"玫瑰津有限公司",unifiedNumber:"80545948",companyAccount:"VCSJ001040",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"},{key:"7",companyName:"台灣資生堂股份有限公司",unifiedNumber:"35878722",companyAccount:"VCSJ001024",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"},{key:"8",companyName:"晶創國際數位有限公司",unifiedNumber:"28011838",companyAccount:"VCSJ001036",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"},{key:"9",companyName:"玫瑰津有限公司",unifiedNumber:"80545948",companyAccount:"VCSJ001040",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"},{key:"10",companyName:"台灣資生堂股份有限公司",unifiedNumber:"35878722",companyAccount:"VCSJ001024",companyAddress:"台灣台北市大安區敦化南路1段111號11樓"}];function ve(){const{list:T,pagination:G,setResponseList:q}=we(),B=async v=>{const m=(v.current-1)*v.pageSize,h=Math.ceil(re.length/v.pageSize),z=re.slice(m,v.current*v.pageSize).map(Y=>({...Y}));q({total:re.length,pages:h,current:v.current,pageSize:v.pageSize,records:z})},j=async v=>({data:{status:"success",id:"123"}}),A=async(v,m)=>({data:{status:"success",id:"123"}}),X=S(),O=async v=>{const m=re.find(h=>h.key===v);return X.value=m,{data:{...m}}},P=S([]),N=()=>{P.value=[{value:"1",label:"一般公司/單位"},{value:"2",label:"內部服務"},{value:"3",label:"ADP 經銷商"}]},{list:W,pagination:V,setResponseList:o}=we(),M=async v=>{const m=We.filter(z=>v.keyword&&!Z(v.keyword)?z.companyAccount.includes(v.keyword)||z.companyName.includes(v.keyword):z),h=Math.ceil(m.length/v.pageSize);o({total:m.length,pages:h,current:v.current,pageSize:v.pageSize,records:m})};async function C(v,m){return{data:{status:"success",id:"123"}}}async function R(v,m){return{data:{status:"success",id:"123"}}}return{getCustomerList:B,customerList:T,pagination:G,createCustomer:j,updateCustomer:A,getCustomer:O,customer:X,getCompanyAttrOption:N,companyAttrOption:P,bizdbCustomerData:W,getAllBizdbCustomers:M,bizPagination:V,createMainAccountByCustomerKey:C,updateMainAccountByCustomerKey:R}}const Je={class:"px-24px"},De=fe({name:"BizDBCustomerModal",__name:"bizdb-customer",emits:["importBizData"],setup(T,{expose:G,emit:q}){const B=q,{getAllBizdbCustomers:j,bizPagination:A,bizdbCustomerData:X}=ve(),O=le({selectedRowKeys:[],selectedRows:[],loading:!1}),P=[{title:"公司名稱",dataIndex:"companyName",key:"companyName",defaultSortOrder:"descend",sorter:!0,width:"190px"},{title:"統一編號",dataIndex:"unifiedNumber",key:"unifiedNumber",sorter:!0,width:"120px"},{title:"公司帳號",dataIndex:"companyAccount",key:"companyAccount",sorter:!0,width:"130px"}],N=S({keyword:"",sortField:"companyName",sortOrder:"descend"}),W=_e(()=>{const m=(A.value.current-1)*A.value.pageSize;return X.value.slice(m,A.value.current*A.value.pageSize)});async function V(m,h){A.value={...A.value,current:m,pageSize:h}}async function o(m=1,h=10){const z={current:m,pageSize:h,...t(N)};await j(z)}function M(m,h){console.log("selectedRowKeys changed: ",m),O.selectedRowKeys=m,O.selectedRows=h}const C=S(!1);async function R(m){m&&(O.selectedRowKeys=[m]),o(),C.value=!0}function v(){C.value=!1,B("importBizData",O.selectedRows[0])}return G({show:R}),(m,h)=>{const z=Ee,Y=Ne,te=ye;return w(),ee(te,{open:t(C),"onUpdate:open":h[2]||(h[2]=J=>he(C)?C.value=J:null),title:"匯入客戶資料",centered:"","cancel-text":"取消","ok-text":"確定",width:"600px",onOk:v},{default:n(()=>[u("div",Je,[e(z,{modelValue:t(N).keyword,"onUpdate:modelValue":h[0]||(h[0]=J=>t(N).keyword=J),"show-filter-btn":!1,placeholder:"搜尋公司名稱、公司帳號",class:"mb-2",onKeydown:h[1]||(h[1]=Fe(J=>o(1,t(A).pageSize),["enter"]))},null,8,["modelValue"]),e(Y,{class:"modal-table","data-source":t(W),columns:P,"show-sorter-tooltip":!1,"row-selection":{columnTitle:"單選",columnWidth:"50px",type:"radio",selectedRowKeys:t(O).selectedRowKeys,onChange:M,preserveSelectedRowKeys:!0},pagination:{...t(A)},onChangePagination:V},null,8,["data-source","row-selection","pagination"])])]),_:1},8,["open"])}}}),Ge=u("div",{class:"text-sms-grayscale-100 text-base font-500 mb-4"}," 一、基本資料 ",-1),He={class:"flex items-center w-full gap-6"},Qe={class:"flex flex-col gap-y-4 px-1 justify-center items-center mt-4"},Xe={key:0,class:"text-sms-status-alert-red ms-2"},Ye=u("div",{class:"text-sms-grayscale-100 text-base font-500 my-4"}," 二、服務設定 ",-1),Ze={class:"flex gap-4"},et={class:"flex items-center w-1/4"},tt={class:"flex items-center w-1/4"},nt={class:"flex gap-4"},at={class:"flex gap-4"},ot={class:"flex items-center w-1/4"},st={class:"flex items-center w-30%"},lt={class:"flex justify-center gap-4"},ct=fe({__name:"customer-management-form",emits:["openMainAccountModal"],setup(T,{expose:G,emit:q}){const B=q,j=S(!1),A=S(!0),{createCustomer:X,updateCustomer:O,getCompanyAttrOption:P,companyAttrOption:N}=ve(),W=le({sms:"1.00",mms:"3.00",aiCopywriting:"5.00",aiMaterialGeneration:"20.00"}),o=le(ue({companyAttr:void 0,bizcustomerKey:void 0,companyAccount:"",companyName:"",unifiedNumber:"",companyAddress:"",contactPersonList:[{contactName:"",countryCode:"+886",phone:"",companyNumber:"",companyExtension:"",email:"",billingAddress:"",note:""}],services:[]})),M=S(!0),C=le({companyAttr:[{message:"請選擇公司屬性",required:!0,trigger:"blur"}],companyAccount:[{message:"請匯入客戶資料",required:!0,trigger:"blur"}],companyName:[{message:"請匯入客戶資料",required:!0,trigger:"blur"}],unifiedNumber:[{message:"請匯入客戶資料",required:!0,trigger:"blur"}],companyAddress:[{message:"請匯入客戶資料",required:!0,trigger:"blur"}],contactPersonList:[{validator:async(l,a)=>{M.value=!0;let f=0;for(const b of a){const E=b.countryCode,k=b.phone;!Z(k)&&!Z(E)&&f++}return f===0?(M.value=!1,Promise.reject("至少需有一位聯絡人資訊")):Promise.resolve()},trigger:"blur"}]});function R(l){return{[`contactPersonList.${l}.phone`]:[{validator:async(a,f)=>(M.value&&(Z(o.contactPersonList[l].phone)||await ae().required("請輸入手機號碼").test("checkPhone","格式有誤",async E=>await Ve().isValid(E,{strict:!1})?o.contactPersonList[l].countryCode==="+886"?await ae().matches(/9\d{8}/).isValid(E,{strict:!1}):!0:!1).validate(f)),Promise.resolve()),trigger:"blur"}],[`contactPersonList.${l}.email`]:[{validator:async(a,f)=>(Z(f)||await ae().email("格式有誤").validate(f),Promise.resolve()),trigger:"blur"}]}}ke(()=>{P()});const v=S(),{validateInfos:m,resetFields:h,validate:z}=Ue(o,C);function Y(l){Object.keys(C).forEach(a=>{a.startsWith("contactPersonList.")&&delete C[a]}),l?(h({companyAttr:l.companyAttr,bizcustomerKey:l.bizcustomerKey,companyAccount:l.companyAccount,companyName:l.companyName,unifiedNumber:l.unifiedNumber,companyAddress:l.companyAddress,contactPersonList:l.contactPersonList,services:l.services}),v.value=l,A.value=!1):(h(),A.value=!0),o.contactPersonList.forEach((a,f)=>{Object.assign(C,R(f))}),j.value=!0}const te=$e();async function J(l){z().then(async()=>{const a=t(A)?await X(o):await O(o,v.value.key);a.data&&a.data.status==="success"&&(t(A)&&(l||te.success({message:"公司/單位新增成功",placement:"top"})),B("openMainAccountModal",A.value,{...o,key:a.data.id}),j.value=!1)}).catch(a=>{console.log(a)})}const g=qe((l,a)=>{const b=l.target.value;/09\d{2}/.test(b)&&(o.contactPersonList[a].phone=b.replace("0",""))},1e3);function i(){const l=ue(o.contactPersonList);l.push({contactName:"",countryCode:"+886",phone:"",companyNumber:"",companyExtension:"",email:"",billingAddress:"",note:""}),o.contactPersonList=l,o.contactPersonList.forEach((a,f)=>{Object.assign(C,R(f))})}function I(l){Object.keys(C).forEach(a=>{a.startsWith("contactPersonList.")&&delete C[a]}),o.contactPersonList.splice(l,1),o.contactPersonList.forEach((a,f)=>{Object.assign(C,R(f))})}const y=S(null);function _(l){Object.assign(o,{bizcustomerKey:l.key,companyAccount:l.companyAccount,companyName:l.companyName,unifiedNumber:l.unifiedNumber,companyAddress:l.companyAddress})}function d(l){const a=ue(o.services);if(a.includes(l)){a.splice(a.indexOf(l),1);return}a.push(l),Object.assign(o,{services:a})}return G({show:Y}),(l,a)=>{const f=Le,b=Se,E=be,k=ge,U=Pe,ce=de,se=Me,ne=ze,c=Ae,p=Ke,x=Ce,$=ye;return w(),K(oe,null,[e($,{open:t(j),"onUpdate:open":a[19]||(a[19]=s=>he(j)?j.value=s:null),title:t(A)?"新增公司/單位":"編輯公司/單位",width:"960px","ok-text":"確定","cancel-text":"取消"},{footer:n(()=>[u("div",lt,[e(E,{status:"small2",onClick:a[15]||(a[15]=s=>j.value=!1)},{default:n(()=>[r(" 取消 ")]),_:1}),t(A)?(w(),K(oe,{key:0},[e(E,{status:"small2",onClick:a[16]||(a[16]=s=>J(!1))},{default:n(()=>[r(" 確定 ")]),_:1}),e(E,{status:"small1",onClick:a[17]||(a[17]=s=>J(!0))},{default:n(()=>[r(" 繼續新增主帳號 ")]),_:1})],64)):(w(),ee(E,{key:1,status:"small2",onClick:a[18]||(a[18]=s=>J(!0))},{default:n(()=>[r(" 確定 ")]),_:1}))])]),default:n(()=>[e(x,{class:"px-24px py-20px",layout:"vertical",autocomplete:"off"},{default:n(()=>[u("div",null,[Ge,e(c,{gutter:[16,4],class:"bg-sms-bg-light-mode-gray !rounded-3 p-6",justify:"center",align:"middle"},{default:n(()=>[e(k,{span:24},{default:n(()=>[u("div",He,[e(b,D({label:"公司屬性"},t(m).companyAttr,{required:"",class:"w-full"}),{default:n(()=>[e(f,{value:t(o).companyAttr,"onUpdate:value":a[0]||(a[0]=s=>t(o).companyAttr=s),options:t(N),placeholder:"請選擇"},null,8,["value","options"])]),_:1},16),t(A)?(w(),ee(E,{key:0,class:"mt-5",onClick:a[1]||(a[1]=s=>{var F;return(F=t(y))==null?void 0:F.show(t(o).bizcustomerKey??"")})},{default:n(()=>[r(" 匯入客戶資料 ")]),_:1})):H("",!0)])]),_:1}),e(k,{span:12},{default:n(()=>[e(b,D({label:"公司帳號"},t(m).companyAccount,{required:""}),{default:n(()=>[e(U,{value:t(o).companyAccount,"onUpdate:value":a[2]||(a[2]=s=>t(o).companyAccount=s),placeholder:"-",disabled:""},null,8,["value"])]),_:1},16)]),_:1}),e(k,{span:12},{default:n(()=>[e(b,D({label:"公司名稱"},t(m).companyName,{required:""}),{default:n(()=>[e(U,{value:t(o).companyName,"onUpdate:value":a[3]||(a[3]=s=>t(o).companyName=s),placeholder:"-",disabled:""},null,8,["value"])]),_:1},16)]),_:1}),e(k,{span:12},{default:n(()=>[e(b,D({label:"統一編號"},t(m).unifiedNumber,{required:""}),{default:n(()=>[e(U,{value:t(o).unifiedNumber,"onUpdate:value":a[4]||(a[4]=s=>t(o).unifiedNumber=s),placeholder:"-",disabled:""},null,8,["value"])]),_:1},16)]),_:1}),e(k,{span:12},{default:n(()=>[e(b,D({label:"公司地址"},t(m).companyAddress,{required:""}),{default:n(()=>[e(U,{value:t(o).companyAddress,"onUpdate:value":a[5]||(a[5]=s=>t(o).companyAddress=s),placeholder:"-",disabled:""},null,8,["value"])]),_:1},16)]),_:1}),u("div",Qe,[(w(!0),K(oe,null,pe(t(o).contactPersonList,(s,F)=>(w(),ee(c,{key:F,gutter:[16,4],class:"p-4 pb-6 bg-sms-grayscale-20 rounded-3 w-full"},{default:n(()=>[t(o).contactPersonList.length>1?(w(),ee(k,{key:0,span:24,class:"text-end"},{default:n(()=>[e(ce,{name:"close",class:"cursor-pointer",onClick:L=>I(F)},null,8,["onClick"])]),_:2},1024)):H("",!0),e(k,{span:8},{default:n(()=>[e(b,{label:"聯絡人"},{default:n(()=>[e(U,{value:s.contactName,"onUpdate:value":L=>s.contactName=L,name:`contactPersonList.${F}.contactName`,placeholder:"請輸入聯絡人"},null,8,["value","onUpdate:value","name"])]),_:2},1024)]),_:2},1024),e(k,{span:8},{default:n(()=>[e(b,D({label:"手機門號",ref_for:!0},t(m)[`contactPersonList.${F}.phone`],{extra:s.countryCode==="+886"?"請輸入數字，9 碼數字以內":"請輸入數字",required:""}),{default:n(()=>[e(se,{compact:""},{default:n(()=>[e(U,{value:s.countryCode,"onUpdate:value":L=>s.countryCode=L,style:{width:"30%"}},null,8,["value","onUpdate:value"]),e(U,{value:s.phone,"onUpdate:value":L=>s.phone=L,style:{width:"70%"},placeholder:"請輸入手機門號",maxlength:s.countryCode==="+886"?9:void 0,onChange:L=>t(g)(L,F)},null,8,["value","onUpdate:value","maxlength","onChange"])]),_:2},1024)]),_:2},1040,["extra"])]),_:2},1024),e(k,{span:5},{default:n(()=>[e(b,{label:"公司電話"},{default:n(()=>[e(U,{value:s.companyNumber,"onUpdate:value":L=>s.companyNumber=L,placeholder:"請輸入公司電話"},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024),e(k,{span:3},{default:n(()=>[e(b,{label:"  "},{default:n(()=>[e(U,{value:s.companyExtension,"onUpdate:value":L=>s.companyExtension=L,placeholder:"分機"},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024),e(k,{span:12},{default:n(()=>[e(b,{label:"Email",extra:"50 字以內"},{default:n(()=>[e(U,{value:s.email,"onUpdate:value":L=>s.email=L,placeholder:"請輸入Email",maxlength:50},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024),e(k,{span:12},{default:n(()=>[e(b,{label:"帳單地址"},{default:n(()=>[e(U,{value:s.billingAddress,"onUpdate:value":L=>s.billingAddress=L,placeholder:"請輸入帳單地址"},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024),e(k,{span:24},{default:n(()=>[e(b,{label:"備註",extra:"150 字以內，文字格式不拘"},{default:n(()=>[e(ne,{value:s.note,"onUpdate:value":L=>s.note=L,placeholder:"請輸入文字",maxlength:150,rows:4},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),e(k,{span:24,"mt-4":""},{default:n(()=>{var s,F,L,xe;return[e(E,{status:"small2",onClick:i},{default:n(()=>[r(" 增加聯絡人 ")]),_:1}),(F=(s=t(m))==null?void 0:s.contactPersonList)!=null&&F.help?(w(),K("span",Xe,Q((xe=(L=t(m))==null?void 0:L.contactPersonList)==null?void 0:xe.help[0][0]),1)):H("",!0)]}),_:1})]),_:1})]),u("div",null,[Ye,e(c,{gutter:[16,4],class:"bg-sms-bg-light-mode-gray !rounded-3 p-6"},{default:n(()=>[e(k,{span:24},{default:n(()=>[e(b,{label:"訊息發送",required:"","html-for":""},{default:n(()=>[u("div",Ze,[u("div",et,[e(p,{checked:t(o).services.includes("sms"),onClick:a[6]||(a[6]=s=>d("sms"))},{default:n(()=>[r(" SMS ")]),_:1},8,["checked"]),e(U,{"addon-before":"NT$",disabled:"",value:t(W).sms,class:"!text-sms-grayscale-80"},null,8,["value"])]),u("div",tt,[e(p,{checked:t(o).services.includes("mms"),onClick:a[7]||(a[7]=s=>d("mms"))},{default:n(()=>[r(" MMS ")]),_:1},8,["checked"]),e(U,{"addon-before":"NT$",disabled:"",value:t(W).mms,class:"!text-sms-grayscale-80"},null,8,["value"])])])]),_:1})]),_:1}),e(k,{span:24},{default:n(()=>[e(b,{label:"一般功能","html-for":""},{default:n(()=>[u("div",nt,[e(p,{checked:t(o).services.includes("trackActivity"),onClick:a[8]||(a[8]=s=>d("trackActivity"))},{default:n(()=>[r(" 追蹤活動管理 ")]),_:1},8,["checked"]),e(p,{checked:t(o).services.includes("subAccount"),onClick:a[9]||(a[9]=s=>d("subAccount"))},{default:n(()=>[r(" 子帳號管理 ")]),_:1},8,["checked"]),e(p,{checked:t(o).services.includes("parameterMessage"),onClick:a[10]||(a[10]=s=>d("parameterMessage"))},{default:n(()=>[r(" 參數訊息 ")]),_:1},8,["checked"]),e(p,{checked:t(o).services.includes("chatMessage"),onClick:a[11]||(a[11]=s=>d("chatMessage"))},{default:n(()=>[r(" 雙向訊息 ")]),_:1},8,["checked"]),e(p,{checked:t(o).services.includes("autoReply"),onClick:a[12]||(a[12]=s=>d("autoReply"))},{default:n(()=>[r(" 自動回覆 ")]),_:1},8,["checked"])])]),_:1})]),_:1}),e(k,{span:24},{default:n(()=>[e(b,{label:"加值功能","html-for":""},{default:n(()=>[u("div",at,[u("div",ot,[e(p,{checked:t(o).services.includes("aiCopywriting"),class:"w-4/5",onClick:a[13]||(a[13]=s=>d("aiCopywriting"))},{default:n(()=>[r(" 文案生成 ")]),_:1},8,["checked"]),e(U,{"addon-before":"NT$",disabled:"",value:t(W).aiCopywriting,class:"!text-sms-grayscale-80"},null,8,["value"])]),u("div",st,[e(p,{checked:t(o).services.includes("aiMaterialGeneration"),class:"w-4/5",onClick:a[14]||(a[14]=s=>d("aiMaterialGeneration"))},{default:n(()=>[r(" AI 素材生成 ")]),_:1},8,["checked"]),e(U,{"addon-before":"NT$",disabled:"",value:t(W).aiMaterialGeneration,class:"!text-sms-grayscale-80"},null,8,["value"])])])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1},8,["open","title"]),e(De,{ref_key:"bizDBCustomerModalRef",ref:y,onImportBizData:_},null,512)],64)}}}),ut={class:"flex gap-4 mb-4 justify-around"},it={class:"flex flex-col gap-1"},rt=u("span",null,"公司帳號",-1),mt={class:"flex flex-col gap-1"},dt=u("span",null,"公司名稱",-1),pt={class:"flex flex-col gap-1"},yt=u("span",null,"公司屬性",-1),ft={key:0,class:"text-sms-status-alert-red ms-2"},vt={class:"flex justify-center gap-4"},_t=fe({__name:"main-account-form",setup(T,{expose:G}){const q=S(!1),{getCompanyAttrOption:B,companyAttrOption:j,createMainAccountByCustomerKey:A,updateMainAccountByCustomerKey:X}=ve();ke(()=>B());const O=S(!0),P=S(!1),N=S(),V=le(ue({mainAccount:[{mainAccount:"",department:"",contactPerson:"",countryCode:"+886",phone:"",email:"",note:""}]})),o=S(!1),M=le({mainAccount:[{validator:async(y,_)=>{o.value=!0;let d=0;for(const l of _){const a=l.countryCode,f=l.phone,b=l.mainAccount,E=l.contactPerson,k=l.email;!Z(f)&&!Z(a)&&!Z(b)&&!Z(E)&&!Z(k)&&d++}return d===0?(o.value=!1,Promise.reject("至少需有一位主帳號資訊")):Promise.resolve()},trigger:"blur"}]}),{validateInfos:C,resetFields:R,validate:v}=Ue(V,M);function m(y){return{[`mainAccount.${y}.mainAccount`]:[{validator:async(_,d)=>(o.value||await ae().required("請輸入主帳號").validate(d),Promise.resolve()),trigger:"blur"}],[`mainAccount.${y}.contactPerson`]:[{validator:async(_,d)=>(o.value||await ae().required("請輸入聯絡人姓名").validate(d),Promise.resolve()),trigger:"blur"}],[`mainAccount.${y}.phone`]:[{validator:async(_,d)=>(o.value||await ae().required("請輸入手機號碼").test("checkPhone","格式有誤",async a=>await Ve().isValid(a,{strict:!1})?V.mainAccount[y].countryCode==="+886"?await ae().matches(/9\d{8}/).isValid(a,{strict:!1}):!0:!1).validate(d),Promise.resolve()),trigger:"blur"}],[`mainAccount.${y}.email`]:[{validator:async(_,d)=>(o.value||await ae().required("請輸入Email").email("格式有誤").validate(d),Promise.resolve()),trigger:"blur"}]}}function h(y,_=!1,d){Object.keys(M).forEach(l=>{l.startsWith("mainAccount.")&&delete M[l]}),d?(R({mainAccount:d}),O.value=!1):(O.value=!0,R()),P.value=!0,N.value=y,q.value=_,V.mainAccount.forEach((l,a)=>{Object.assign(M,m(a))})}const z=$e();function Y(){v().then(async()=>{var y;N.value&&((y=(O.value?await A(N.value.key,V.mainAccount):await X(N.value.key,V.mainAccount)).data)==null?void 0:y.status)==="success"&&(z.success({message:q.value?"公司/單位和主帳號新增成功":"公司/單位和主帳號編輯成功",placement:"top"}),P.value=!1)}).catch(y=>{console.error(y)})}function te(y,_){const l=y.target.value;/09\d{2}/.test(l)&&(V.mainAccount[_].phone=l.replace("0",""))}function J(y){var _;if(y)return((_=j.value.find(d=>d.value===y))==null?void 0:_.label)??""}function g(){const y=ue(V.mainAccount);y.push({mainAccount:"",department:"",contactPerson:"",countryCode:"+886",phone:"",email:"",note:""}),V.mainAccount=y,V.mainAccount.forEach((_,d)=>{Object.assign(M,m(d))})}function i(y){Object.keys(M).forEach(_=>{_.startsWith("mainAccount.")&&delete M[_]}),V.mainAccount.splice(y,1),V.mainAccount.forEach((_,d)=>{Object.assign(M,m(d))})}function I(){z.success({message:q.value?"公司/單位新增成功":"公司/單位編輯成功",placement:"top"}),P.value=!1}return G({show:h}),(y,_)=>{const d=de,l=ge,a=Pe,f=Se,b=Ae,E=Me,k=ze,U=be,ce=Ce,se=ye;return w(),ee(se,{open:t(P),"onUpdate:open":_[0]||(_[0]=ne=>he(P)?P.value=ne:null),centered:"",width:"600px","ok-text":"確定","cancel-text":"取消"},{title:n(()=>[r(" 新增主帳號 ")]),footer:n(()=>[u("div",vt,[e(U,{status:"small2",onClick:I},{default:n(()=>[r(" 取消 ")]),_:1}),e(U,{status:"small2",onClick:Y},{default:n(()=>[r(" 確定 ")]),_:1})])]),default:n(()=>[e(ce,{model:t(V),class:"px-24px py-20px",layout:"vertical",autocomplete:"off"},{default:n(()=>{var ne,c,p;return[u("div",ut,[u("div",it,[rt,u("span",null,Q((ne=t(N))==null?void 0:ne.companyAccount),1)]),u("div",mt,[dt,u("span",null,Q((c=t(N))==null?void 0:c.companyName),1)]),u("div",pt,[yt,u("span",null,Q(J((p=t(N))==null?void 0:p.companyAttr)),1)])]),(w(!0),K(oe,null,pe(t(V).mainAccount,(x,$)=>(w(),K("div",{key:$,class:"p-4 pb-6 bg-sms-bg-light-mode-gray rounded-3 w-full mb-4"},[e(b,{gutter:16},{default:n(()=>[t(V).mainAccount.length>1?(w(),ee(l,{key:0,span:24,class:"text-end"},{default:n(()=>[e(d,{name:"close",class:"cursor-pointer",onClick:s=>i($)},null,8,["onClick"])]),_:2},1024)):H("",!0),e(l,{span:12},{default:n(()=>[e(f,D({label:"主帳號",ref_for:!0},t(C)[`mainAccount.${$}.mainAccount`],{required:""}),{default:n(()=>[e(a,{value:x.mainAccount,"onUpdate:value":s=>x.mainAccount=s,placeholder:"請輸入主帳號"},null,8,["value","onUpdate:value"])]),_:2},1040)]),_:2},1024),e(l,{span:12},{default:n(()=>[e(f,D({label:"單位",ref_for:!0},t(C)[`mainAccount.${$}.department`]),{default:n(()=>[e(a,{value:x.department,"onUpdate:value":s=>x.department=s,placeholder:"請輸入單位"},null,8,["value","onUpdate:value"])]),_:2},1040)]),_:2},1024)]),_:2},1024),e(b,{gutter:16},{default:n(()=>[e(l,{span:12},{default:n(()=>[e(f,D({label:"聯絡人姓名",ref_for:!0},t(C)[`mainAccount.${$}.contactPerson`],{required:""}),{default:n(()=>[e(a,{value:x.contactPerson,"onUpdate:value":s=>x.contactPerson=s,placeholder:"請輸入聯絡人姓名"},null,8,["value","onUpdate:value"])]),_:2},1040)]),_:2},1024),e(l,{span:12},{default:n(()=>[e(f,D({label:"手機門號",ref_for:!0},t(C)[`mainAccount.${$}.phone`],{extra:x.countryCode==="+886"?"請輸入數字，9 碼數字以內":"請輸入數字",required:""}),{default:n(()=>[e(E,{compact:""},{default:n(()=>[e(a,{value:x.countryCode,"onUpdate:value":s=>x.countryCode=s,style:{width:"30%"}},null,8,["value","onUpdate:value"]),e(a,{value:x.phone,"onUpdate:value":s=>x.phone=s,style:{width:"70%"},placeholder:"請輸入手機門號",maxlength:x.countryCode==="+886"?9:void 0,onChange:s=>te(s,$)},null,8,["value","onUpdate:value","maxlength","onChange"])]),_:2},1024)]),_:2},1040,["extra"])]),_:2},1024)]),_:2},1024),e(f,D({label:"Email",ref_for:!0},t(C)[`mainAccount.${$}.email`],{extra:"50 字以內",required:""}),{default:n(()=>[e(a,{value:x.email,"onUpdate:value":s=>x.email=s,maxlength:50,placeholder:"請輸入Email"},null,8,["value","onUpdate:value"])]),_:2},1040),e(f,D({label:"備註",ref_for:!0},t(C)[`mainAccount.${$}.note`],{extra:"150 字以內，文字格式不拘"}),{default:n(()=>[e(k,{value:x.note,"onUpdate:value":s=>x.note=s,rows:4,maxlength:150,placeholder:"請輸入"},null,8,["value","onUpdate:value"])]),_:2},1040)]))),128)),e(l,{span:24,"mt-4":""},{default:n(()=>{var x,$,s,F;return[e(U,{status:"small2",onClick:g},{default:n(()=>[r(" 增加主帳號 ")]),_:1}),($=(x=t(C))==null?void 0:x.mainAccount)!=null&&$.help?(w(),K("span",ft,Q((F=(s=t(C))==null?void 0:s.mainAccount)==null?void 0:F.help[0][0]),1)):H("",!0)]}),_:1})]}),_:1},8,["model"])]),_:1},8,["open"])}}}),bt={class:"flex justify-end px-2 items-center py-4 bg-sms-grayscale-0 rounded-t-12px"},gt=["onClick"],At={class:"px-60px py-20px w-300px mx-auto"},Ct={key:0,class:"list-decimal-inside cursor-pointer"},ht=u("div",{class:"px-60px py-20px text-center"},[r(" 0922113849"),u("br"),r(" 0945324523"),u("br"),r(" 0956277445"),u("br"),r(" 0945883212"),u("br"),r(" 0903910387"),u("br"),r(" 0946357466"),u("br"),r(" 0943681827"),u("br"),r(" 0966817279"),u("br"),r(" 0946340568"),u("br"),r(" 0936780477"),u("br"),r(" 0956369571"),u("br"),r(" 0947848565"),u("br"),r(" 0927211384"),u("br"),r(" 0922113849"),u("br"),r(" 0945324523"),u("br"),r(" 0956277445"),u("br"),r(" 0945883212"),u("br"),r(" 0903910387"),u("br"),r(" 0946357466"),u("br"),r(" 0943681827"),u("br"),r(" 0966817279"),u("br"),r(" 0946340568"),u("br"),r(" 0936780477"),u("br"),r(" 0956369571"),u("br"),r(" 0947848565"),u("br"),r(" 0927211384"),u("br")],-1),Rt=fe({__name:"index",setup(T){const G=S(null),q=S(null),{customerList:B,getCustomerList:j,pagination:A,getCompanyAttrOption:X,companyAttrOption:O}=ve();X();const P=S({open:!1}),N=S({open:!1,record:null}),W=[{value:"ACTIVE",label:"開啟"},{value:"UNACTIVE",label:"關閉"}],V=[{title:"公司帳號",dataIndex:"companyAccount",key:"companyAccount",maxWidth:115},{title:"公司名稱",dataIndex:"companyName",key:"companyName",maxWidth:200},{title:"公司屬性",dataIndex:"companyAttrName",key:"companyAttrName",maxWidth:120},{title:"服務內容",dataIndex:"services",key:"services",minWidth:190},{title:"門號數量",dataIndex:"phoneNumberCount",key:"phoneNumberCount",minWidth:74,align:"center",customHeaderCell:()=>({class:"[&>*]:!justify-center"})},{title:"主帳號數量",dataIndex:"mainAccountCount",key:"mainAccountCount",minWidth:74,align:"center",customHeaderCell:()=>({class:"[&>*]:!justify-center"})},{title:"子帳號數量",dataIndex:"subAccountCount",key:"subAccountCount",minWidth:74,align:"center",customHeaderCell:()=>({class:"[&>*]:!justify-center"})},{title:"剩餘金額",dataIndex:"balance",key:"balance",maxWidth:120,align:"right",customHeaderCell:()=>({class:"[&>*]:!justify-end"})},{title:"公司狀態",dataIndex:"status",key:"status",width:"90px"},{title:"操作",dataIndex:"action",key:"action",width:"50px",fixed:"right"}];ke(()=>{R(1)});const o=S({keyword:"",sortField:"createTime",sortOrder:"descend",status:void 0,companyAccount:[],companyName:[],companyAttr:[],companyStatus:[],services:[]});async function M(g,i,I){console.log("sorter:",I),o.value=Object.assign(o.value,{sortField:I.field,sortOrder:I.order}),await R(A.value.current,A.value.pageSize)}async function C(g,i){await R(g,i)}async function R(g=1,i=10){const I={current:g,pageSize:i,...t(o)};await j(I)}async function v(g){B.value=B.value.map(i=>g.key===i.key?{...g,status:g.status==="UNACTIVE"?"ACTIVE":"UNACTIVE"}:i)}const m=S(null);function h(){var g;R(1),(g=m.value)==null||g.hide()}const z=_e(()=>B.value.map(g=>({label:g.companyAccount,value:g.companyAccount}))),Y=_e(()=>B.value.map(g=>({label:g.companyName,value:g.companyName}))),te=Object.entries(me).map(([g,i])=>({label:i,value:g}));function J(g,i){var I,y;if(g)(I=q.value)==null||I.show(i,g);else{const _=[{mainAccount:"VCSJ001024",department:"業務部",contactPerson:"陳小雲",countryCode:"+886",phone:"911248081",email:"clouds@gmail.com",note:""}];(y=q.value)==null||y.show(i,g,_)}R(A.value.current,A.value.pageSize)}return(g,i)=>{const I=de,y=be,_=Re,d=Ie,l=Le,a=Oe,f=ge,b=Ae,E=Ce,k=je,U=de,ce=Ne,se=ye,ne=Te;return w(),ee(ne,{title:"客戶管理"},{extraContent:n(()=>[e(y,{status:"small2",onClick:()=>{}},{icon:n(()=>[e(I,{name:"download",width:"16px"})]),default:n(()=>[r(" 匯出CSV ")]),_:1}),e(y,{class:"ms-2",status:"small1",onClick:i[0]||(i[0]=()=>{var c;return(c=t(G))==null?void 0:c.show()})},{icon:n(()=>[e(I,{name:"plus",width:"16px"})]),default:n(()=>[r(" 新增帳號 ")]),_:1})]),default:n(()=>[u("div",bt,[e(Ee,{ref_key:"filterKeywordInputRef",ref:m,modelValue:t(o).keyword,"onUpdate:modelValue":i[11]||(i[11]=c=>t(o).keyword=c),class:"w-562px h-40px",placeholder:"搜尋公司帳號、公司名稱、 統一編號、聯絡人E-Mail、連絡人電話 ",onClearFilter:i[12]||(i[12]=()=>{o.value={...t(o),keyword:"",status:void 0,companyAccount:[],companyName:[],companyAttr:[],companyStatus:[],services:[]}})},{filterForm:n(()=>[e(E,{layout:"vertical",model:t(o),autocomplete:"off"},{default:n(()=>[e(b,{gutter:[16,12]},{default:n(()=>[e(f,{span:24},{default:n(()=>[e(a,{label:"公司屬性",valueed:t(ie)(t(o).companyAttr)},{default:n(()=>[e(l,{value:t(o).companyAttr,"onUpdate:value":i[2]||(i[2]=c=>t(o).companyAttr=c),options:t(O),"max-tag-count":2,"show-arrow":!0,mode:"multiple",class:"w-full","option-filter-prop":"label","menu-item-selected-icon":" "},{dropdownRender:n(({menuNode:c})=>[e(_,{modelValue:t(o).companyAttr,"onUpdate:modelValue":i[1]||(i[1]=p=>t(o).companyAttr=p),menu:c,options:t(O)},null,8,["modelValue","menu","options"])]),option:n(({value:c,label:p})=>[e(d,{values:t(o).companyAttr,value:c,label:p},null,8,["values","value","label"])]),_:1},8,["value","options"])]),_:1},8,["valueed"])]),_:1}),e(f,{span:24},{default:n(()=>[e(a,{label:"公司帳號",valueed:t(ie)(t(o).companyAccount)},{default:n(()=>[e(l,{value:t(o).companyAccount,"onUpdate:value":i[4]||(i[4]=c=>t(o).companyAccount=c),options:t(z),"max-tag-count":2,"show-arrow":!0,mode:"multiple",class:"w-full","option-filter-prop":"label","menu-item-selected-icon":" "},{dropdownRender:n(({menuNode:c})=>[e(_,{modelValue:t(o).companyAccount,"onUpdate:modelValue":i[3]||(i[3]=p=>t(o).companyAccount=p),menu:c,options:t(z)},null,8,["modelValue","menu","options"])]),option:n(({value:c,label:p})=>[e(d,{values:t(o).companyAccount,value:c,label:p},null,8,["values","value","label"])]),_:1},8,["value","options"])]),_:1},8,["valueed"])]),_:1}),e(f,{span:24},{default:n(()=>[e(a,{label:"公司姓名",valueed:t(ie)(t(o).companyName)},{default:n(()=>[e(l,{value:t(o).companyName,"onUpdate:value":i[6]||(i[6]=c=>t(o).companyName=c),options:t(Y),"max-tag-count":2,"show-arrow":!0,mode:"multiple",class:"w-full","option-filter-prop":"label","menu-item-selected-icon":" "},{dropdownRender:n(({menuNode:c})=>[e(_,{modelValue:t(o).companyName,"onUpdate:modelValue":i[5]||(i[5]=p=>t(o).companyName=p),menu:c,options:t(Y)},null,8,["modelValue","menu","options"])]),option:n(({value:c,label:p})=>[e(d,{values:t(o).companyName,value:c,label:p},null,8,["values","value","label"])]),_:1},8,["value","options"])]),_:1},8,["valueed"])]),_:1}),e(f,{span:24},{default:n(()=>[e(a,{label:"公司狀態",valueed:t(Be)(t(o).status,W)},{default:n(()=>[e(l,{value:t(o).status,"onUpdate:value":i[7]||(i[7]=c=>t(o).status=c),options:W,"max-tag-count":2,"show-arrow":!0,"show-search":!1,class:"w-full"},null,8,["value"])]),_:1},8,["valueed"])]),_:1}),e(f,{span:24},{default:n(()=>[e(a,{label:"服務內容",valueed:t(ie)(t(o).services)},{default:n(()=>[e(l,{value:t(o).services,"onUpdate:value":i[9]||(i[9]=c=>t(o).services=c),options:t(te),"max-tag-count":2,"show-arrow":!0,mode:"multiple",class:"w-full","option-filter-prop":"label","menu-item-selected-icon":" "},{dropdownRender:n(({menuNode:c})=>[e(_,{modelValue:t(o).services,"onUpdate:modelValue":i[8]||(i[8]=p=>t(o).services=p),menu:c,options:t(te)},null,8,["modelValue","menu","options"])]),option:n(({value:c,label:p})=>[e(d,{values:t(o).services,value:c,label:p},null,8,["values","value","label"])]),_:1},8,["value","options"])]),_:1},8,["valueed"])]),_:1}),e(f,{span:24,class:"text-center"},{default:n(()=>[e(y,{status:"small2",class:"me-5",onClick:i[10]||(i[10]=c=>{var p;return(p=t(m))==null?void 0:p.hide()})},{default:n(()=>[r(" 取消 ")]),_:1}),e(y,{status:"small1",onClick:h},{default:n(()=>[r(" 確定 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),e(ce,{"data-source":t(B),scroll:{x:"max-content"},columns:V,size:"small","show-sorter-tooltip":!1,pagination:{...t(A)},onChange:M,onChangePagination:C},{bodyCell:n(({column:c,record:p,text:x})=>[c.dataIndex==="services"?(w(),K("ul",{key:0,class:"list-decimal-inside text-sms-primary-blue-80 underline cursor-pointer",onClick:()=>{N.value={open:!0,record:p}}},[(w(!0),K(oe,null,pe(p.services.slice(0,3),$=>(w(),K("li",{key:$},Q(t(me)[$])+Q($==="sms"||$==="mms"?`(${p.companyAccount})`:""),1))),128))],8,gt)):H("",!0),c.dataIndex==="balance"?(w(),K(oe,{key:1},[r(" NT$"+Q(x.toFixed(2).toLocaleString()),1)],64)):H("",!0),c.dataIndex==="status"?(w(),ee(k,{key:2,checked:x==="ACTIVE",onClick:$=>v(p)},null,8,["checked","onClick"])):H("",!0),c.dataIndex==="phoneNumberCount"?(w(),K("span",{key:3,class:"text-sms-primary-blue-80 underline cursor-pointer",onClick:i[13]||(i[13]=$=>t(P).open=!0)},Q(x),1)):H("",!0),c.dataIndex==="action"?(w(),ee(y,{key:4,status:"small3",class:"!px-0",onClick:$=>{var s;return(s=t(G))==null?void 0:s.show(p)}},{default:n(()=>[e(U,{class:"text-sms-primary-blue-80",name:"edit"})]),_:2},1032,["onClick"])):H("",!0)]),_:1},8,["data-source","pagination"]),e(se,{open:t(N).open,"onUpdate:open":i[14]||(i[14]=c=>t(N).open=c),title:"服務內容",width:"440px","cancel-button-props":{class:"hidden"},onOk:i[15]||(i[15]=c=>t(N).open=!1)},{default:n(()=>[u("div",At,[t(N).record?(w(),K("ul",Ct,[(w(!0),K(oe,null,pe(t(N).record.services??[],c=>(w(),K("li",{key:c},Q(t(me)[c])+" "+Q(c==="sms"||c==="mms"?`(${t(N).record.companyAccount})`:""),1))),128))])):H("",!0)])]),_:1},8,["open"]),e(se,{open:t(P).open,"onUpdate:open":i[16]||(i[16]=c=>t(P).open=c),title:"發送門號列表",width:"440px","cancel-button-props":{class:"hidden"},onOk:i[17]||(i[17]=c=>t(P).open=!1)},{default:n(()=>[ht]),_:1},8,["open"]),e(ct,{ref_key:"customerManagementFormRef",ref:G,onOpenMainAccountModal:J},null,512),e(_t,{ref_key:"mainAccountFormRef",ref:q},null,512)]),_:1})}}});export{Rt as default};
