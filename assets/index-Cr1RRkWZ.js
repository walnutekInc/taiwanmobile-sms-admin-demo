import{i as q,a as z,_ as J,d as H,b as ee,u as te,c as oe,e as ne,R as T,p as se}from"./index-Bb-HzrIL.js";import{p as ae,_ as le}from"./typing-DrGR-q03.js";import{d as x,c as w,W as n,_ as c,a3 as E,u as e,a4 as f,a0 as F,a5 as I,$ as s,k as i,G as M,a6 as g,X as _,F as C,a7 as G,s as O,a8 as N,a9 as K,Y as k,B as ie,H as re,Q as $,r as ce,aa as de,Z as j,w as ue,ab as pe}from"./vue-BtcszhJV.js";import{u as W,a as _e}from"./context-CFbOfPTF.js";import{_ as me}from"./index.vuevuetypescriptsetuptruelang-BxQ8nJie.js";import{i as he,b as P,d as fe,M as D,L as ye,e as ke,f as ve,g as ge,h as be,j as $e,D as we,k as xe}from"./antd-CeareF1k.js";const B=x({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(m){const t=m,a=w(()=>{if(q(t.icon)){const l=t.icon();if(l)return l}else return he[t.icon];return null});return(l,r)=>l.icon?(n(),c(E(e(a)),{key:0})):f("",!0)}}),Ce=["href","target"],Se=["href","target"],Me=x({__name:"sub-menu",props:{item:{}},setup(m){return(t,a)=>{const l=F("sub-menu",!0),r=me,u=F("RouterLink"),d=P,h=fe;return t.item.children&&!t.item.hideChildrenInMenu?(n(),c(h,{key:t.item.path},I({title:s(()=>[M(g(t.item.title),1)]),default:s(()=>[(n(!0),_(C,null,G(t.item.children,o=>(n(),_(C,null,[o.hideInMenu?f("",!0):(n(),_(C,{key:0},[o.children?(n(),c(l,{key:o.path,item:o},null,8,["item"])):(n(),c(d,{key:o.path},I({default:s(()=>[e(z)(o.path)?(n(),_("a",{key:1,href:o.path,target:o.target??"_blank"},g(o.title),9,Ce)):(n(),c(u,{key:0,to:o.path},{default:s(()=>[M(g(o.title)+" ",1),o.titleAfterNode?(n(),c(r,{key:0,vnodes:o.titleAfterNode},null,8,["vnodes"])):f("",!0)]),_:2},1032,["to"]))]),_:2},[o.icon?{name:"icon",fn:s(()=>[i(B,{icon:o.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[t.item.icon?{name:"icon",fn:s(()=>[i(B,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(n(),c(d,{key:t.item.path},I({default:s(()=>[e(z)(t.item.path)?(n(),_("a",{key:1,href:t.item.path,target:t.item.target??"_blank"},g(t.item.title),9,Se)):(n(),c(u,{key:0,to:t.item.path},{default:s(()=>[M(g(t.item.title),1)]),_:1},8,["to"]))]),_:2},[t.item.icon?{name:"icon",fn:s(()=>[i(B,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),Q=x({__name:"index",setup(m){const{theme:t,collapsed:a,layout:l,isMobile:r,menuData:u,selectedKeys:d,openKeys:h,handleOpenKeys:o,handleSelectedKeys:p,handleMenuSelect:y}=W(),v=w(()=>t.value==="inverted"?"dark":t.value);return(b,U)=>{const L=D;return n(),c(L,{"selected-keys":e(d),"open-keys":e(h),mode:e(l)==="top"&&!e(r)?"horizontal":"inline",theme:e(v),"inline-collapsed":e(a),class:"ant-pro-sider-menu","onUpdate:openKeys":e(o),"onUpdate:selectedKeys":e(p),onSelect:e(y)},{default:s(()=>[(n(!0),_(C,null,G(e(u),S=>(n(),_(C,{key:S.path},[S.hideInMenu?f("",!0):(n(),c(Me,{key:0,item:S},null,8,["item"]))],64))),128))]),_:1},8,["selected-keys","open-keys","mode","theme","inline-collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),Le=["src"],Ke={key:0},Ue={class:"flex-1 of-x-hidden of-y-auto"},X=x({__name:"index",setup(m){const{collapsed:t,layout:a,logo:l,theme:r,title:u,collapsedWidth:d,siderWidth:h,headerHeight:o,fixedSider:p,isMobile:y}=W(),v=O("ant-pro-sider"),b=w(()=>({paddingTop:`${a.value!=="side"&&!y.value?o.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"})),U=w(()=>({[v.value]:!0,[`${v.value}-fixed`]:p.value,[`${v.value}-layout-${a.value}`]:!!a.value,"!bg-sms-bg-dark-mode":!0,"sms-menu":!0})),L=w(()=>(a.value==="side"||y.value)&&a.value!=="mix");return(S,V)=>{const A=J,R=P,Y=D,Z=ye;return n(),_(C,null,[e(p)?(n(),_("div",{key:0,style:N({width:e(t)?`${e(d)}px`:`${e(h)}px`,maxWidth:e(t)?`${e(d)}px`:`${e(h)}px`,minWidth:e(t)?`${e(d)}px`:`${e(h)}px`,...e(b)})},null,4)):f("",!0),i(Z,{collapsed:e(t)&&!e(y),theme:e(r)==="inverted"?"dark":"light",trigger:null,"collapsed-width":e(d),width:e(h),collapsible:"",class:K(e(U)),style:N(e(b))},{default:s(()=>[e(L)?(n(),_("div",{key:0,class:K(["ant-pro-sider-logo",e(t)&&!e(y)?"ant-pro-sider-collapsed":""])},[k("a",null,[k("img",{src:e(l)},null,8,Le),!e(t)||e(y)?(n(),_("h1",Ke,g(e(u)),1)):f("",!0)])],2)):f("",!0),k("div",Ue,[i(Q)]),e(y)?f("",!0):(n(),_("div",{key:1,class:K(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(r)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[i(Y,{class:"ant-pro-sider-menu",mode:"inline",selectable:!1},{default:s(()=>[i(R,{onClick:ie(()=>{},["prevent"])},{icon:s(()=>[i(A,{name:"logout",width:"16px"})]),default:s(()=>[M(" 登出 ")]),_:1})]),_:1})],2))]),_:1},8,["collapsed","theme","collapsed-width","width","class","style"])],64)}}}),Ie=x({__name:"index",setup(m){const{mobileCollapsed:t,siderWidth:a}=W();return(l,r)=>{const u=ke;return n(),c(u,{open:e(t),"onUpdate:open":r[0]||(r[0]=d=>re(t)?t.value=d:null),closable:!1,placement:"left",width:e(a)},{default:s(()=>[i(X)]),_:1},8,["open","width"])}}}),We={class:"footer-tool-bar__left"},Ae={class:"footer-tool-bar__center"},Re={class:"footer-tool-bar__right"},Be={class:"px-5"},Fe=x({__name:"index",setup(m){const t=O("ant-pro-footer-toolbar"),{siderWidth:a,collapsed:l,collapsedWidth:r,isMobile:u,layout:d}=W(),h=w(()=>{if(!(u.value||d.value==="top"))return`calc(100% - ${l.value?r.value:a.value}px)`});return(o,p)=>(n(),_("div",{class:K(e(t)),style:N({width:e(h),transition:"0.3s all"})},[k("div",We,[$(o.$slots,"left",{},void 0,!0)]),k("div",Ae,[$(o.$slots,"default",{},void 0,!0)]),k("div",Re,[$(o.$slots,"right",{},()=>[k("div",Be,[k("a",{href:"javascript:;",class:"me-6 text-sms-grayscale-100 font-400",onClick:p[0]||(p[0]=()=>e(H).footerContactUsLink)},"聯絡我們"),k("a",{href:"javascript:;",class:"text-sms-grayscale-100 font-400",onClick:p[1]||(p[1]=()=>e(H).footerInstructions)},"操作說明")])],!0)])],6))}}),Ne=ee(Fe,[["__scopeId","data-v-7c179564"]]),Pe=["data-theme"],De=x({__name:"index",props:ae,emits:["update:collapsed"],setup(m,{emit:t}){const a=m,l=t;function r(o){var p;l("update:collapsed",o),(p=a==null?void 0:a.onCollapsed)==null||p.call(a,o)}const{layout:u,contentWidth:d}=_e(a,{handleCollapsed:r}),h=w(()=>d.value==="Fixed"?"ant-pro-basicLayout-content-fixed":"");return(o,p)=>{const y=ve,v=ge,b=be;return n(),_("div",{class:"ant-pro-basicLayout","data-theme":o.theme},[i(b,null,{default:s(()=>[o.menu?(n(),_(C,{key:0},[e(u)!=="top"&&!o.isMobile?(n(),c(X,{key:0})):f("",!0)],64)):f("",!0),i(b,null,{default:s(()=>[o.header?(n(),c(le,{key:0},I({_:2},[o.$slots.headerActions?{name:"headerActions",fn:s(()=>[$(o.$slots,"headerActions")]),key:"0"}:void 0,o.$slots.headerContent||e(u)==="top"?{name:"headerContent",fn:s(()=>[$(o.$slots,"headerContent",{},()=>[o.isMobile?f("",!0):(n(),c(Q,{key:0}))])]),key:"1"}:void 0]),1024)):f("",!0),$(o.$slots,"contentPrefix"),i(y,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:s(()=>[k("div",{"h-full":"",flex:"","flex-col":"","flex-1":"",class:K(e(h))},[$(o.$slots,"default")],2)]),_:3}),o.footer?(n(),c(v,{key:1,style:{background:"transparent",height:"48px"}},{default:s(()=>[$(o.$slots,"footerRender",{},()=>[i(Ne)])]),_:3})):f("",!0)]),_:3})]),_:3}),o.menu?(n(),c(Ie,{key:0})):f("",!0)],8,Pe)}}}),Ve="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='12'%20cy='12'%20r='10'%20stroke='black'%20stroke-width='2'/%3e%3ccircle%20cx='12'%20cy='9.5'%20r='2.5'%20stroke='black'%20stroke-width='2'/%3e%3cpath%20d='M18%2020C18%2017.7909%2015%2015%2012%2015C9%2015%206%2017.7909%206%2020'%20stroke='black'%20stroke-width='2'/%3e%3c/svg%3e",ze={xl:1600,lg:1199,md:991,sm:767,xs:575};function He(){const m=ce(de(ze)),t=m.smaller("sm"),a=m.between("sm","md"),l=m.greater("md");return{breakpoints:m,isMobile:t,isPad:a,isDesktop:l}}const Te={flex:"","items-center":"","h-48px":"","px-12px":"","cursor-pointer":"",class:"transition-all-300"},je={class:"anticon"},Ze=x({__name:"index",setup(m){const t=te(),{layoutSetting:a}=j(t),l=oe(),r=ne(),{selectedKeys:u,openKeys:d}=j(r),{isMobile:h,isPad:o}=He();ue(o,y=>{y?t.toggleCollapsed(!0):t.toggleCollapsed(!1)});const p=w(()=>se(t.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth"]));return(y,v)=>{const b=$e,U=P,L=D,S=we,V=F("RouterView"),A=xe;return n(),c(De,pe({collapsed:e(a).collapsed,theme:e(a).theme,"menu-data":e(l).menuData},e(p),{"selected-keys":e(u),"open-keys":e(a).layout==="top"?[]:e(d),copyright:e(a).copyright,"is-mobile":e(h),logo:e(a).logo,title:e(a).title,"onUpdate:openKeys":e(r).handleOpenKeys,"onUpdate:selectedKeys":e(r).handleSelectedKeys,"onUpdate:collapsed":e(t).toggleCollapsed}),{headerContent:s(()=>[M(g(""))]),headerActions:s(()=>[i(S,null,{overlay:s(()=>[i(L,null,{default:s(()=>[i(U,{key:"0",onClick:v[0]||(v[0]=()=>{e(l).userInfo.role===e(T).MAIN?e(l).setSubUserInfo():e(l).setMainUserInfo()})},{default:s(()=>[M(g(e(l).userInfo.role===e(T).MAIN?"切換子帳號":"切換成主帳號"),1)]),_:1})]),_:1})]),default:s(()=>[k("span",Te,[i(b,{"mr-8px":"",src:e(Ve)},null,8,["src"]),k("span",je,g(e(l).userInfo.username),1)])]),_:1})]),contentPrefix:s(()=>[]),renderFooterLinks:s(()=>[]),default:s(()=>[i(A,{"h-full":"",flex:"","flex-col":"","flex-1":"",content:""},{default:s(()=>[i(V,null,{default:s(({Component:R})=>[(n(),c(E(R)))]),_:1})]),_:1})]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"])}}});export{Ze as default};
