import{r}from"./index-R-qz9I0f.js";import{an as N,s as M,c as n,r as g,w as y}from"./vue-BMMYOVpY.js";function Q(e,x={}){const H=M(!1),W=n(()=>e.logo),b=n(()=>e.title),m=n(()=>e.layout),w=n(()=>e.collapsedWidth),C=n(()=>e.siderWidth),o=n(()=>e.menuData),d=n(()=>e.splitMenus),D=n(()=>e.fixedHeader),L=n(()=>e.fixedSider),j=n(()=>e.collapsed),k=n(()=>e.theme),E=n(()=>e.headerHeight),P=n(()=>e.contentWidth),U=n(()=>e.copyright),v=n(()=>e.isMobile),h=M(!1),F=()=>{h.value=!h.value},I=n(()=>e.header),O=n(()=>e.menu),R=n(()=>e.footer),q=n(()=>e.menuHeader),i=g(new Map),l=g({selectedKeys:[]});y(o,()=>{var t;i.clear(),(t=o.value)==null||t.forEach(a=>{i.set(a.path,a)})},{immediate:!0});const z=n(()=>{var a,s;if(v.value||m.value!=="mix"||!d.value)return o.value;const t=(a=l.selectedKeys)==null?void 0:a[0];return t?((s=i.get(t))==null?void 0:s.children)??[]:[]}),A=t=>{l.selectedKeys=t},K=n(()=>e.openKeys),u=n(()=>e.selectedKeys),B=t=>{r(e["onUpdate:openKeys"],t)},G=t=>{r(e["onUpdate:selectedKeys"],t)},J=t=>{r(e.onMenuSelect,t)},f=(t,a,s)=>{for(const c of a??[]){if(c.path===t)return s??c;if(c.children&&c.children.length){const S=f(t,c.children,s??c);if(S)return S}}};return y(u,()=>{var t;if(d.value){const a=(t=u.value)==null?void 0:t[0];if(a){const s=f(a,o.value??[]);s&&(l.selectedKeys=[s.path])}}},{immediate:!0}),y(d,()=>{var t,a;if(!d.value)l.selectedKeys=[];else{const s=((t=u.value)==null?void 0:t[0])??((a=K.value)==null?void 0:a[0])??"",c=f(s,o.value??[]);c?l.selectedKeys=[c==null?void 0:c.path]:l.selectedKeys=[]}}),{logo:W,title:b,layout:m,collapsed:j,collapsedWidth:w,menuData:o,siderWidth:C,fixedHeader:D,fixedSider:L,headerHeight:E,theme:k,isMobile:v,mobileCollapsed:h,contentWidth:P,copyright:U,hasPageContainer:H,splitMenus:d,splitState:l,menuDataMap:i,selectedMenus:z,handleMobileCollapsed:F,header:I,menu:O,footer:R,openKeys:K,handleOpenKeys:B,selectedKeys:u,handleSelectedKeys:G,handleMenuSelect:J,handleSplitSelectedKeys:A,menuHeader:q,...x}}const[Y,T]=N(Q),Z=()=>T();export{Y as a,Z as u};
