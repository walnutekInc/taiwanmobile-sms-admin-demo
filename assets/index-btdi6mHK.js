import{_ as P}from"./index.vuevuetypescriptsetuptruelang-BdlENQ8t.js";import{_ as j}from"./index.vuevuetypestyleindex0lang-CcFzt3O-.js";import{_ as K}from"./index.vuevuetypescriptsetuptruelang-DAISk7I9.js";import{_ as E}from"./index-BlWtfRXv.js";import{_ as G,a as H}from"./index.vuevuetypescriptsetuptruelang-DlliyulR.js";import{F as W}from"./index-CFgvsZxn.js";import{b as C,g as X}from"./tools-DInPKiE1.js";import{u as q}from"./request-CfiAB8vl.js";import{S as Q}from"./customer-DCQIZRvJ.js";import{x as Z,t as ee,O as oe,y as te,F as ne,K as ae}from"./antd-CeareF1k.js";import{d as ce,o as ue,f as $,u as e,c as h,W as _,_ as J,$ as c,Y as b,k as n,G as F,X as Y,F as le,a6 as w,a4 as se}from"./vue-BtcszhJV.js";import"./index-Bb-HzrIL.js";import"./context-CFbOfPTF.js";import"./index.vuevuetypestyleindex0lang-l354ccN2.js";import"./index.vuevuetypescriptsetuptruelang-BxQ8nJie.js";const V=[{companyAccount:"VCSJ000100",companyName:"新光三越百貨公司",nmpAccount:"Nelson",accountType:"主帳號",usageTime:"2024/10/23 14:00:58",usageNumber:"4487569850",serviceContent:"AI 文字生成",cost:"NT$5.00"},{companyAccount:"VCSJ000100",companyName:"新光三越百貨公司",nmpAccount:"Nana",accountType:"子帳號",usageTime:"2024/10/20 12:57:54",usageNumber:"4524123443",serviceContent:"AI 素材生成",cost:"NT$20.00"},{companyAccount:"VCSJ000200",companyName:"全國電子股份有限公司",nmpAccount:"Rose",accountType:"主帳號",usageTime:"2024/10/20 09:24:20",usageNumber:"4532623464",serviceContent:"AI 文字生成",cost:"NT$5.00"},{companyAccount:"VCSJ000100",companyName:"新光三越百貨公司",nmpAccount:"Peter",accountType:"子帳號",usageTime:"2024/09/25 19:52:58",usageNumber:"2325436374",serviceContent:"AI 文字生成",cost:"NT$5.00"},{companyAccount:"VCSJ000100",companyName:"新光三越百貨公司",nmpAccount:"Jessica",accountType:"主帳號",usageTime:"2024/09/20 23:37:53",usageNumber:"6257454423",serviceContent:"AI 素材生成",cost:"NT$20.00"},{companyAccount:"VCSJ000200",companyName:"全國電子股份有限公司",nmpAccount:"John",accountType:"子帳號",usageTime:"2024/08/10 05:26:15",usageNumber:"6867945342",serviceContent:"AI 文字生成",cost:"NT$5.00"},{companyAccount:"VCSJ000100",companyName:"新光三越百貨公司",nmpAccount:"Brian",accountType:"主帳號",usageTime:"2024/08/03 09:11:48",usageNumber:"5745323414",serviceContent:"AI 素材生成",cost:"NT$20.00"},{companyAccount:"VCSJ000200",companyName:"全國電子股份有限公司",nmpAccount:"Yvonne",accountType:"主帳號",usageTime:"2024/07/12 11:29:30",usageNumber:"9769452347",serviceContent:"AI 文字生成",cost:"NT$5.00"},{companyAccount:"VCSJ000100",companyName:"新光三越百貨公司",nmpAccount:"Jasper",accountType:"子帳號",usageTime:"2024/06/29 16:42:27",usageNumber:"9672374456",serviceContent:"AI 文字生成",cost:"NT$5.00"},{companyAccount:"VCSJ000100",companyName:"新光三越百貨公司",nmpAccount:"Mandy",accountType:"主帳號",usageTime:"2024/05/18 20:50:23",usageNumber:"3451325163",serviceContent:"AI 素材生成",cost:"NT$20.00"},{companyAccount:"VCSJ000200",companyName:"全國電子股份有限公司",nmpAccount:"Coper",accountType:"子帳號",usageTime:"2024/05/11 19:33:41",usageNumber:"5632451237",serviceContent:"AI 素材生成",cost:"NT$20.00"},{companyAccount:"VCSJ000100",companyName:"新光三越百貨公司",nmpAccount:"Cool",accountType:"主帳號",usageTime:"2024/04/22 21:19:45",usageNumber:"8435684625",serviceContent:"AI 素材生成",cost:"NT$20.00"}];function me(){const{setResponseList:k,list:i,pagination:v}=q();async function r(s){const o=(s.current-1)*s.pageSize,g=Math.ceil(V.length/s.pageSize),f=V.slice(o,s.current*s.pageSize).map(p=>({...p}));k({total:V.length,pages:g,current:s.current,pageSize:s.pageSize,records:f})}return{getValueAddedRecordList:r,valueAddedRecordList:i,pagination:v}}const pe={class:"flex justify-end px-2 items-center py-4 bg-sms-grayscale-0 rounded-t-12px"},ie={key:0},re={href:"javascript:;",class:"text-black hover:text-black"},Se=ce({__name:"index",setup(k){const{valueAddedRecordList:i,getValueAddedRecordList:v,pagination:r}=me(),s=[{title:"公司帳號",dataIndex:"companyAccount",key:"companyAccount",width:120,sorter:!0},{title:"公司名稱",dataIndex:"companyName",key:"companyName",width:200},{title:"NMP 帳號",dataIndex:"nmpAccount",key:"nmpAccount",width:120},{title:"帳號屬性",dataIndex:"accountType",key:"accountType",width:100},{title:"使用時間",dataIndex:"usageTime",key:"usageTime",width:160,sorter:!0},{title:"使用編號",dataIndex:"usageNumber",key:"usageNumber",width:120},{title:"服務內容",dataIndex:"serviceContent",key:"serviceContent",width:120},{title:"費用",dataIndex:"cost",key:"cost",width:100,align:"right",customHeaderCell:()=>({class:"[&>*]:!justify-center"})}];ue(()=>{p(1)});const o=$({keyword:"",sortField:"usageTime",sortOrder:"descend",companyAccount:[],companyName:[],dateRange:void 0,service:[]});async function g(l,t,m){console.log("sorter:",m),o.value=Object.assign(o.value,{sortField:m.field,sortOrder:m.order}),await p(r.value.current,r.value.pageSize)}async function f(l,t){await p(l,t)}async function p(l=1,t=10){const m={current:l,pageSize:t,...e(o)};await v(m)}const N=$(null);function M(){var l;p(1),(l=N.value)==null||l.hide()}const I=h(()=>i.value.map(l=>({label:l.companyAccount,value:l.companyAccount}))),S=h(()=>i.value.map(l=>({label:l.companyName,value:l.companyName}))),x=Object.entries(Q).map(([l,t])=>({label:t,value:l}));return(l,t)=>{const m=G,A=H,T=Z,y=E,d=ee,O=oe,R=K,L=te,U=ne,z=ae,B=j,D=P;return _(),J(D,{title:"加值服務使用查詢"},{default:c(()=>[b("div",pe,[n(W,{ref_key:"filterKeywordInputRef",ref:N,modelValue:e(o).keyword,"onUpdate:modelValue":t[8]||(t[8]=a=>e(o).keyword=a),class:"w-416px h-40px",placeholder:"搜尋公司帳號、公司名稱、服務內容關鍵字",onClearFilter:t[9]||(t[9]=()=>{o.value={...e(o),keyword:"",companyAccount:[],companyName:[],dateRange:void 0,service:[]}})},{filterForm:c(()=>[n(U,{layout:"vertical",model:e(o),autocomplete:"off"},{default:c(()=>[n(L,{gutter:[16,12]},{default:c(()=>[n(d,{span:24},{default:c(()=>[n(y,{label:"公司帳號",valueed:e(C)(e(o).companyAccount)},{default:c(()=>[n(T,{value:e(o).companyAccount,"onUpdate:value":t[1]||(t[1]=a=>e(o).companyAccount=a),options:e(I),"max-tag-count":2,"show-arrow":!0,mode:"multiple",class:"w-full","option-filter-prop":"label","menu-item-selected-icon":" "},{dropdownRender:c(({menuNode:a})=>[n(m,{modelValue:e(o).companyAccount,"onUpdate:modelValue":t[0]||(t[0]=u=>e(o).companyAccount=u),menu:a,options:e(I)},null,8,["modelValue","menu","options"])]),option:c(({value:a,label:u})=>[n(A,{values:e(o).companyAccount,value:a,label:u},null,8,["values","value","label"])]),_:1},8,["value","options"])]),_:1},8,["valueed"])]),_:1}),n(d,{span:24},{default:c(()=>[n(y,{label:"公司名稱",valueed:e(C)(e(o).companyName)},{default:c(()=>[n(T,{value:e(o).companyName,"onUpdate:value":t[3]||(t[3]=a=>e(o).companyName=a),options:e(S),"max-tag-count":2,"show-arrow":!0,mode:"multiple",class:"w-full","option-filter-prop":"label","menu-item-selected-icon":" "},{dropdownRender:c(({menuNode:a})=>[n(m,{modelValue:e(o).companyName,"onUpdate:modelValue":t[2]||(t[2]=u=>e(o).companyName=u),menu:a,options:e(S)},null,8,["modelValue","menu","options"])]),option:c(({value:a,label:u})=>[n(A,{values:e(o).companyName,value:a,label:u},null,8,["values","value","label"])]),_:1},8,["value","options"])]),_:1},8,["valueed"])]),_:1}),n(d,{span:24},{default:c(()=>[n(y,{label:"日期區間",valueed:e(o).dateRange},{default:c(()=>[n(O,{value:e(o).dateRange,"onUpdate:value":t[4]||(t[4]=a=>e(o).dateRange=a),class:"w-full",placement:"topLeft",format:"YYYY-MM-DD","value-format":"YYYY/MM/DD"},null,8,["value"])]),_:1},8,["valueed"])]),_:1}),n(d,{span:24},{default:c(()=>[n(y,{label:"服務內容",valueed:e(C)(e(o).service)},{default:c(()=>[n(T,{value:e(o).service,"onUpdate:value":t[6]||(t[6]=a=>e(o).service=a),options:e(x),"max-tag-count":2,"show-arrow":!0,mode:"multiple",class:"w-full","option-filter-prop":"label","menu-item-selected-icon":" "},{dropdownRender:c(({menuNode:a})=>[n(m,{modelValue:e(o).service,"onUpdate:modelValue":t[5]||(t[5]=u=>e(o).service=u),menu:a,options:e(x)},null,8,["modelValue","menu","options"])]),option:c(({value:a,label:u})=>[n(A,{values:e(o).service,value:a,label:u},null,8,["values","value","label"])]),_:1},8,["value","options"])]),_:1},8,["valueed"])]),_:1}),n(d,{span:24,class:"text-center"},{default:c(()=>[n(R,{status:"small2",class:"me-5",onClick:t[7]||(t[7]=a=>{var u;return(u=e(N))==null?void 0:u.hide()})},{default:c(()=>[F(" 取消 ")]),_:1}),n(R,{status:"small1",onClick:M},{default:c(()=>[F(" 確定 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),n(B,{"data-source":e(i),scroll:{x:"max-content"},columns:s,size:"small","show-sorter-tooltip":!1,pagination:{...e(r)},onChange:g,onChangePagination:f},{bodyCell:c(({column:a,text:u})=>[a.key==="messageContent"?(_(),Y(le,{key:0},[u.length<=70?(_(),Y("span",ie,w(u),1)):(_(),J(z,{key:1,placement:"top","get-popup-container":e(X)},{title:c(()=>[b("span",null,w(u),1)]),default:c(()=>[b("a",re,w(u==null?void 0:u.slice(0,70))+"...",1)]),_:2},1032,["get-popup-container"]))],64)):se("",!0)]),_:1},8,["data-source","pagination"])]),_:1})}}});export{Se as default};
