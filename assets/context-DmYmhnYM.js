import{r}from"./index-Bg0jDDn5.js";import{aq as Q,s as M,c as t,r as g,w as y}from"./vue-BtcszhJV.js";function T(e,w={}){const x=M(!1),H=t(()=>e.logo),W=t(()=>e.title),m=t(()=>e.layout),C=t(()=>e.collapsedWidth),b=t(()=>e.siderWidth),o=t(()=>e.menuData),d=t(()=>e.splitMenus),D=t(()=>e.fixedHeader),L=t(()=>e.fixedSider),j=t(()=>e.collapsed),k=t(()=>e.theme),E=t(()=>e.headerHeight),P=t(()=>e.contentWidth),U=t(()=>e.copyright),q=t(()=>e.showCollapsed),v=t(()=>e.isMobile),h=M(!1),F=()=>{h.value=!h.value},I=t(()=>e.header),O=t(()=>e.menu),R=t(()=>e.footer),z=t(()=>e.menuHeader),i=g(new Map),l=g({selectedKeys:[]});y(o,()=>{var n;i.clear(),(n=o.value)==null||n.forEach(s=>{i.set(s.path,s)})},{immediate:!0});const A=t(()=>{var s,c;if(v.value||m.value!=="mix"||!d.value)return o.value;const n=(s=l.selectedKeys)==null?void 0:s[0];return n?((c=i.get(n))==null?void 0:c.children)??[]:[]}),B=n=>{l.selectedKeys=n},K=t(()=>e.openKeys),u=t(()=>e.selectedKeys),G=n=>{r(e["onUpdate:openKeys"],n)},J=n=>{r(e["onUpdate:selectedKeys"],n)},N=n=>{r(e.onMenuSelect,n)},f=(n,s,c)=>{for(const a of s??[]){if(a.path===n)return c??a;if(a.children&&a.children.length){const S=f(n,a.children,c??a);if(S)return S}}};return y(u,()=>{var n;if(d.value){const s=(n=u.value)==null?void 0:n[0];if(s){const c=f(s,o.value??[]);c&&(l.selectedKeys=[c.path])}}},{immediate:!0}),y(d,()=>{var n,s;if(!d.value)l.selectedKeys=[];else{const c=((n=u.value)==null?void 0:n[0])??((s=K.value)==null?void 0:s[0])??"",a=f(c,o.value??[]);a?l.selectedKeys=[a==null?void 0:a.path]:l.selectedKeys=[]}}),{logo:H,title:W,layout:m,collapsed:j,collapsedWidth:C,menuData:o,siderWidth:b,fixedHeader:D,fixedSider:L,headerHeight:E,theme:k,isMobile:v,mobileCollapsed:h,contentWidth:P,copyright:U,hasPageContainer:x,splitMenus:d,splitState:l,menuDataMap:i,selectedMenus:A,handleMobileCollapsed:F,header:I,menu:O,footer:R,openKeys:K,handleOpenKeys:G,selectedKeys:u,handleSelectedKeys:J,handleMenuSelect:N,handleSplitSelectedKeys:B,menuHeader:z,showCollapsed:q,...w}}const[Z,V]=Q(T),_=()=>V();export{Z as a,_ as u};
