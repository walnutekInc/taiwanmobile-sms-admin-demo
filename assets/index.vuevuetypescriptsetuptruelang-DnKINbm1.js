import{_ as B}from"./index-BZ4UblcJ.js";import{d as C,f as x,W as o,X as a,F as w,Y as i,a5 as u,u as m,a3 as d,a4 as f,m as P,A as N,k as _,_ as k,a9 as V,$ as T,y as z}from"./vue-BvWPEeCa.js";import{b as $}from"./tools-DuR4KSGu.js";import{H as F}from"./antd-Dpsol0oo.js";const S={class:"relative w-full h-full"},E=["controls","src"],D={key:0,class:"text-sms-grayscale-60 font-500 text-base text-center pt-2"},L={key:0,class:"text-sms-grayscale-60 font-500 text-base text-center pb-2"},M=["src"],R=C({name:"MultimediaPreview",__name:"index",props:{source:{},showDelBtn:{type:Boolean,default:!0},showFileName:{type:Boolean,default:!0},canPlay:{type:Boolean,default:!0},imageClass:{default:"w-full"},size:{default:"large"}},emits:["deleteVideo"],setup(y,{expose:v,emit:n}){const l=y,r=n,t=x(!1),c=x();function h(e){t.value=!e.target.paused}function s(){var e;console.log(l.canPlay&&l.source.type==="video",l.source.type),l.canPlay&&l.source.type==="video"&&((e=c.value)==null||e.play())}function g(){var e;l.canPlay&&t.value&&l.source.type==="video"&&((e=c.value)==null||e.pause())}function p(){r("deleteVideo")}return v({playVideo:s,pauseVideo:g}),(e,W)=>{const b=B;return o(),a("div",S,[e.source.type==="video"?(o(),a(w,{key:0},[i("video",{id:"video",ref_key:"videoRef",ref:c,class:u(["h-full w-full bg-sms-grayscale-100",{"max-h-356px":e.size==="large"}]),controls:m(t),src:e.source.url,onPlaying:h,onPause:h},null,42,E),e.showFileName?(o(),a("div",D,d(e.source.fileName)+" ("+d(e.source.fileSize)+") ",1)):f("",!0),P(_(b,{name:"play-circle",width:e.size==="large"?"80px":"35px",class:"absolute top-50% left-50% translate-x-[-50%] translate-y-[-50%] cursor-pointer",onClick:s},null,8,["width"]),[[N,!m(t)]])],64)):e.source.url?(o(),a(w,{key:1},[e.showFileName?(o(),a("div",L,d(e.source.fileName)+" ("+d(e.source.fileSize)+") ",1)):f("",!0),i("img",{src:e.source.url,class:u(e.imageClass)},null,10,M)],64)):f("",!0),e.showDelBtn?(o(),k(b,{key:2,name:"close-circle",width:e.size==="large"?"32px":"16px",status:"small3",class:"absolute top-1 right-1 text-sms-grayscale-60 cursor-pointer",onClick:p},null,8,["width"])):f("",!0)])}}}),H="/taiwanmobile-sms-admin-demo/assets/full-phone-rT6RnVLp.png",A=["src"],G={class:"max-h-706px overflow-auto absolute top-[150px] left-[30px] w-[calc(100%-50px)]"},O={class:"text-sms-grayscale-60 text-sm font-400 font-inter text-sm text-right"},j=["innerHTML"],J=C({name:"FullPhonePreview",__name:"index",props:{message:{type:Array,default:()=>[]},tooltip:{type:Boolean,default:!1}},setup(y){function v(r="",t){return t?`<div class="font-700 text-17px font-sans">${t}</div>${r}`:r}const n=x([]);async function l(r,t){await z(),n.value&&n.value[t]&&(r?n.value[t].playVideo():n.value[t].pauseVideo())}return(r,t)=>{const c=R,h=F;return o(),a(w,null,[i("img",{src:m(H),class:"w-428px"},null,8,A),i("div",G,[(o(!0),a(w,null,V(y.message,(s,g)=>(o(),a("div",{key:s.key,class:u(["flex flex-col mb-4",{"me-48px ms-5px":s.messageType==="GET","ms-48px me-20px":s.messageType==="SENT"}])},[i("div",O,d(s.phone),1),i("div",{class:u(["flex w-full items-end justify-end gap-4",{"flex-row-reverse ":s.messageType==="GET"}])},[s.contentType==="text"?(o(),a("div",{key:0,class:u(["bg-sms-grayscale-20 w-214px py-3 px-3 rounded-2 text-17px break-words",{"bg-sms-primary-blue-20":s.messageType==="SENT"}]),innerHTML:v(s.content,s.subject)},null,10,j)):s.content?(o(),a("div",{key:1,class:u({"h-130px w-196px":s.contentType==="video"})},[y.tooltip?(o(),k(h,{key:0,placement:"top","get-popup-container":m($),"overlay-inner-style":{width:"384px",height:"304px"},arrow:"center",onOpenChange:p=>l(p,g)},{title:T(()=>[_(c,{ref_for:!0,ref:p=>m(n)[g]=p,source:{url:s.content,type:s.contentType},size:"small","show-del-btn":!1,"show-file-name":!1,"image-class":" w-80% h-full mx-auto block"},null,8,["source"])]),default:T(()=>[_(c,{source:{url:s.content,type:s.contentType},"show-file-name":!1,"show-del-btn":!1,"can-play":!1,"image-class":"w-50% block ms-auto"},null,8,["source"])]),_:2},1032,["get-popup-container","onOpenChange"])):(o(),k(c,{key:1,source:{url:s.content,type:s.contentType},"show-file-name":!1,"show-del-btn":!1,"can-play":!1,"image-class":"w-50% block ms-auto"},null,8,["source"]))],2)):f("",!0)],2)],2))),128))])],64)}}});export{R as _,J as a};
