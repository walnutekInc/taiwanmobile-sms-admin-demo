import{i as ne,a as Q,_ as se,d as N,b as ae,s as I,n as D,c as P,e as S,f as B,u as le,g as ie,h as re,R as X,p as de}from"./index-b55f1cdf.js";import{u as U,a as ue}from"./context-71cd8e16.js";import{d as b,c as $,W as n,X as _,Y as g,u as e,a3 as C,a4 as v,a5 as K,s as j,k as u,l as ce,F as L,_ as h,Q as x,$ as a,a6 as R,a7 as A,a8 as Z,a0 as V,G as H,a9 as q,B as pe,H as _e,r as me,aa as he,Z as Y,w as fe,ab as ye}from"./vue-b9a22f97.js";import{M as ve,B as ge,b as ke,L as $e,i as xe,d as E,e as be,f as O,g as Ce,h as we,j as Me,k as Se,l as Ke,m as Le,D as Ue,n as We}from"./antd-16a0cd46.js";const Ie="/taiwanmobile-sms-admin-demo/assets/avatar-9edfbea5.svg",He="/taiwanmobile-sms-admin-demo/assets/Logo-black-007ffece.png",Ae=["src"],Re={key:0},Be=b({__name:"global-header-logo",setup(y){const{title:t,layout:o,isMobile:s}=U(),d=$(()=>({"ant-pro-global-header-logo":o.value==="mix"||s.value,"ant-pro-top-nav-header-logo":o.value==="top"&&!s.value}));return(c,p)=>(n(),_("div",{class:K(e(d))},[g("a",null,[g("img",{src:e(He),height:"60"},null,8,Ae),e(s)?v("",!0):(n(),_("h1",Re,C(e(t)),1))])],2))}}),Fe={class:"flex-1"},Te=b({__name:"index",setup(y){const{layout:t,isMobile:o,handleCollapsed:s,handleMobileCollapsed:d,collapsed:c,theme:p,menuHeader:i}=U(),l=j("ant-pro-global-header"),m=$(()=>({[l.value]:!0,[`${l.value}-layout-${t.value}`]:!!t.value,[`${l.value}-inverted`]:p.value==="inverted"&&t.value==="top"}));return(f,r)=>{const k=ge,w=ke;return n(),_("div",{class:K(e(m))},[u(k,{icon:ce(e(ve)),type:"text",class:K({"bg-sms-grayscale-20":!e(c)}),onClick:r[0]||(r[0]=W=>{var M;return e(o)?e(d)():(M=e(s))==null?void 0:M(!e(c))})},null,8,["icon","class"]),e(i)?(n(),_(L,{key:0},[e(t)!=="side"||e(o)?(n(),h(Be,{key:0})):v("",!0)],64)):v("",!0),g("div",Fe,[x(f.$slots,"headerContent")]),u(w,{align:"center","flex-shrink-0":""},{default:a(()=>[x(f.$slots,"headerActions")]),_:3})],2)}}});const De=b({__name:"index",setup(y){const{headerHeight:t,fixedHeader:o,layout:s,isMobile:d,collapsed:c,collapsedWidth:p,siderWidth:i}=U(),l=$(()=>{const r={height:`${t.value}px`,lineHeight:`${t.value}px`,paddingInline:0};if((o.value||s.value==="mix")&&(r.zIndex=100,r.width="100%",r.right=0),s.value==="side"){if(!d.value&&o.value){const k=c.value?p.value:i.value;r.width=`calc(100% - ${k}px)`}r.zIndex=19}return r}),m=$(()=>{const r=[];return(o.value||s.value==="mix")&&r.push("ant-pro-fixed-header"),s.value&&r.push("ant-pro-fixed-header-action"),s.value==="mix"&&r.push("ant-pro-fixed-header-inverted"),r}),f=$(()=>o.value||s.value==="mix");return(r,k)=>{const w=$e;return n(),_(L,null,[e(f)?(n(),h(w,{key:0,style:R({height:`${e(t)}px`,lineHeight:`${e(t)}px`,background:"transparent"})},null,8,["style"])):v("",!0),u(w,{style:R(e(l)),class:K(e(m))},{default:a(()=>[u(Te,null,A({_:2},[r.$slots.headerActions?{name:"headerActions",fn:a(()=>[x(r.$slots,"headerActions")]),key:"0"}:void 0,r.$slots.headerContent?{name:"headerContent",fn:a(()=>[x(r.$slots,"headerContent")]),key:"1"}:void 0]),1024)]),_:3},8,["style","class"])],64)}}});const z=b({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(y){const t=y,o=$(()=>{if(ne(t.icon)){const s=t.icon();if(s)return s}else return xe[t.icon]});return(s,d)=>s.icon?(n(),h(Z(e(o)),{key:0})):v("",!0)}}),Pe=["href","target"],ze=["href","target"],Ne=b({__name:"sub-menu",props:{item:{}},setup(y){return(t,o)=>{const s=V("sub-menu",!0),d=V("RouterLink"),c=E,p=be;return t.item.children&&!t.item.hideChildrenInMenu?(n(),h(p,{key:t.item.path},A({title:a(()=>[H(C(t.item.title),1)]),default:a(()=>[(n(!0),_(L,null,q(t.item.children,i=>(n(),_(L,null,[i.hideInMenu?v("",!0):(n(),_(L,{key:0},[i.children?(n(),h(s,{key:i.path,item:i},null,8,["item"])):(n(),h(c,{key:i.path},A({default:a(()=>[e(Q)(i.path)?(n(),_("a",{key:1,href:i.path,target:i.target??"_blank"},C(i.title),9,Pe)):(n(),h(d,{key:0,to:i.path},{default:a(()=>[H(C(i.title),1)]),_:2},1032,["to"]))]),_:2},[i.icon?{name:"icon",fn:a(()=>[u(z,{icon:i.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[t.item.icon?{name:"icon",fn:a(()=>[u(z,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(n(),h(c,{key:t.item.path},A({default:a(()=>[e(Q)(t.item.path)?(n(),_("a",{key:1,href:t.item.path,target:t.item.target??"_blank"},C(t.item.title),9,ze)):(n(),h(d,{key:0,to:t.item.path},{default:a(()=>[H(C(t.item.title),1)]),_:1},8,["to"]))]),_:2},[t.item.icon?{name:"icon",fn:a(()=>[u(z,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),J=b({__name:"index",setup(y){const{theme:t,collapsed:o,layout:s,isMobile:d,menuData:c,selectedKeys:p,openKeys:i,handleOpenKeys:l,handleSelectedKeys:m,handleMenuSelect:f}=U(),r=$(()=>t.value==="inverted"?"dark":t.value);return(k,w)=>{const W=O;return n(),h(W,{"selected-keys":e(p),"open-keys":e(i),mode:e(s)==="top"&&!e(d)?"horizontal":"inline",theme:e(r),"inline-collapsed":e(o),class:"ant-pro-sider-menu","onUpdate:openKeys":e(l),"onUpdate:selectedKeys":e(m),onSelect:e(f)},{default:a(()=>[(n(!0),_(L,null,q(e(c),M=>(n(),_(L,{key:M.path},[M.hideInMenu?v("",!0):(n(),h(Ne,{key:0,item:M},null,8,["item"]))],64))),128))]),_:1},8,["selected-keys","open-keys","mode","theme","inline-collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),Ve=["src"],je={key:0},Ee={class:"flex-1 of-x-hidden of-y-auto"},ee=b({__name:"index",setup(y){const{collapsed:t,layout:o,logo:s,theme:d,title:c,collapsedWidth:p,siderWidth:i,headerHeight:l,fixedSider:m,isMobile:f}=U(),r=j("ant-pro-sider"),k=$(()=>({paddingTop:`${o.value!=="side"&&!f.value?l.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"})),w=$(()=>({[r.value]:!0,[`${r.value}-fixed`]:m.value,[`${r.value}-layout-${o.value}`]:!!o.value,"!bg-sms-bg-dark-mode":!0,"sms-menu":!0})),W=$(()=>(o.value==="side"||f.value)&&o.value!=="mix");return(M,G)=>{const F=se,T=E,te=O,oe=Ce;return n(),_(L,null,[e(m)?(n(),_("div",{key:0,style:R({width:e(t)?`${e(p)}px`:`${e(i)}px`,maxWidth:e(t)?`${e(p)}px`:`${e(i)}px`,minWidth:e(t)?`${e(p)}px`:`${e(i)}px`,...e(k)})},null,4)):v("",!0),u(oe,{collapsed:e(t)&&!e(f),theme:e(d)==="inverted"?"dark":"light",trigger:null,"collapsed-width":e(p),width:e(i),collapsible:"",class:K(e(w)),style:R(e(k))},{default:a(()=>[e(W)?(n(),_("div",{key:0,class:K(["ant-pro-sider-logo",e(t)&&!e(f)?"ant-pro-sider-collapsed":""])},[g("a",null,[g("img",{src:e(s)},null,8,Ve),!e(t)||e(f)?(n(),_("h1",je,C(e(c)),1)):v("",!0)])],2)):v("",!0),g("div",Ee,[u(J)]),e(f)?v("",!0):(n(),_("div",{key:1,class:K(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(d)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[u(te,{class:"ant-pro-sider-menu",mode:"inline",selectable:!1},{default:a(()=>[u(T,{onClick:pe(()=>{},["prevent"])},{icon:a(()=>[u(F,{name:"logout",width:"16px"})]),default:a(()=>[H(" 登出 ")]),_:1})]),_:1})],2))]),_:1},8,["collapsed","theme","collapsed-width","width","class","style"])],64)}}});const Oe=b({__name:"index",setup(y){const{mobileCollapsed:t,siderWidth:o}=U();return(s,d)=>{const c=we;return n(),h(c,{open:e(t),"onUpdate:open":d[0]||(d[0]=p=>_e(t)?t.value=p:null),closable:!1,placement:"left",width:e(o)},{default:a(()=>[u(ee)]),_:1},8,["open","width"])}}}),Ge={class:"footer-tool-bar__left"},Qe={class:"footer-tool-bar__center"},Xe={class:"footer-tool-bar__right"},Ye={class:"px-5"},Ze=b({__name:"index",setup(y){const t=j("ant-pro-footer-toolbar"),{siderWidth:o,collapsed:s,collapsedWidth:d,isMobile:c,layout:p}=U(),i=$(()=>{if(!(c.value||p.value==="top"))return`calc(100% - ${s.value?d.value:o.value}px)`});return(l,m)=>(n(),_("div",{class:K(e(t)),style:R({width:e(i),transition:"0.3s all"})},[g("div",Ge,[x(l.$slots,"left",{},void 0,!0)]),g("div",Qe,[x(l.$slots,"default",{},void 0,!0)]),g("div",Xe,[x(l.$slots,"right",{},()=>[g("div",Ye,[g("a",{href:"javascript:;",onClick:m[0]||(m[0]=()=>e(N).footerContactUsLink),class:"me-6 text-sms-grayscale-100 font-400"},"聯絡我們"),g("a",{href:"javascript:;",onClick:m[1]||(m[1]=()=>e(N).footerInstructions),class:"text-sms-grayscale-100 font-400"},"操作說明")])],!0)])],6))}});const qe=ae(Ze,[["__scopeId","data-v-ecd17414"]]),Je={"onUpdate:openKeys":B(),"onUpdate:selectedKeys":B(),onMenuSelect:B()},et={layout:I("mix"),logo:I(),title:I(),collapsedWidth:D(48),siderWidth:D(240),headerHeight:D(N.headerHeight),menuData:P(),fixedHeader:S(!1),fixedSider:S(!0),splitMenus:S(),collapsed:S(!1),theme:I("light"),onCollapsed:B(),isMobile:S(),contentWidth:I(),header:S(!0),footer:S(!0),menu:S(!0),menuHeader:S(!0),openKeys:P(),selectedKeys:P(),copyright:I(),...Je},tt=["data-theme"],ot=b({__name:"index",props:et,emits:["update:collapsed"],setup(y,{emit:t}){const o=y,s=t;function d(l){var m;s("update:collapsed",l),(m=o==null?void 0:o.onCollapsed)==null||m.call(o,l)}const{layout:c,contentWidth:p}=ue(o,{handleCollapsed:d}),i=$(()=>p.value==="Fixed"?"ant-pro-basicLayout-content-fixed":"");return(l,m)=>{const f=Se,r=Ke,k=Me;return n(),_("div",{class:"ant-pro-basicLayout","data-theme":l.theme},[u(k,null,{default:a(()=>[l.menu?(n(),_(L,{key:0},[e(c)!=="top"&&!l.isMobile?(n(),h(ee,{key:0})):v("",!0)],64)):v("",!0),u(k,null,{default:a(()=>[l.header?(n(),h(De,{key:0},A({_:2},[l.$slots.headerActions?{name:"headerActions",fn:a(()=>[x(l.$slots,"headerActions")]),key:"0"}:void 0,l.$slots.headerContent||e(c)==="top"?{name:"headerContent",fn:a(()=>[x(l.$slots,"headerContent",{},()=>[l.isMobile?v("",!0):(n(),h(J,{key:0}))])]),key:"1"}:void 0]),1024)):v("",!0),x(l.$slots,"contentPrefix"),u(f,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:a(()=>[g("div",{"h-full":"",flex:"","flex-col":"","flex-1":"",class:K(e(i))},[x(l.$slots,"default")],2)]),_:3}),l.footer?(n(),h(r,{key:1,style:{background:"transparent",height:"48px"}},{default:a(()=>[x(l.$slots,"footerRender",{},()=>[u(qe)])]),_:3})):v("",!0)]),_:3})]),_:3}),l.menu?(n(),h(Oe,{key:0})):v("",!0)],8,tt)}}});const nt={xl:1600,lg:1199,md:991,sm:767,xs:575};function st(){const y=me(he(nt)),t=y.smaller("sm"),o=y.between("sm","md"),s=y.greater("md");return{breakpoints:y,isMobile:t,isPad:o,isDesktop:s}}const at={flex:"","items-center":"","h-48px":"","px-12px":"","cursor-pointer":"",class:"transition-all-300"},lt={class:"anticon"},ct=b({__name:"index",setup(y){const t=le(),{layoutSetting:o}=Y(t),s=ie(),d=re(),{selectedKeys:c,openKeys:p}=Y(d),{isMobile:i,isPad:l}=st();fe(l,f=>{f?t.toggleCollapsed(!0):t.toggleCollapsed(!1)});const m=$(()=>de(t.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth"]));return(f,r)=>{const k=Le,w=E,W=O,M=Ue,G=V("RouterView"),F=We;return n(),h(ot,ye({collapsed:e(o).collapsed,theme:e(o).theme,"menu-data":e(s).menuData},e(m),{"selected-keys":e(c),"open-keys":e(o).layout==="top"?[]:e(p),copyright:e(o).copyright,"is-mobile":e(i),logo:e(o).logo,title:e(o).title,"onUpdate:openKeys":e(d).handleOpenKeys,"onUpdate:selectedKeys":e(d).handleSelectedKeys,"onUpdate:collapsed":e(t).toggleCollapsed}),{headerContent:a(()=>[H(C(""))]),headerActions:a(()=>[u(M,null,{overlay:a(()=>[u(W,null,{default:a(()=>[u(w,{key:"0",onClick:r[0]||(r[0]=()=>{e(s).userInfo.role===e(X).MAIN?e(s).setSubUserInfo():e(s).setMainUserInfo()})},{default:a(()=>[H(C(e(s).userInfo.role===e(X).MAIN?"切換子帳號":"切換成主帳號"),1)]),_:1})]),_:1})]),default:a(()=>[g("span",at,[u(k,{"mr-8px":"",src:e(Ie)},null,8,["src"]),g("span",lt,C(e(s).userInfo.username),1)])]),_:1})]),contentPrefix:a(()=>[]),renderFooterLinks:a(()=>[]),default:a(()=>[u(F,{"h-full":"",flex:"","flex-col":"","flex-1":"",content:""},{default:a(()=>[u(G,null,{default:a(({Component:T})=>[(n(),h(Z(T)))]),_:1})]),_:1})]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"])}}});export{ct as default};
